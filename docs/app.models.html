
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module app.models</title>
<meta charset="utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="app.html"><font color="#ffffff">app</font></a>.models</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/levlaz/git/braindump/app/models.py">/Users/levlaz/git/braindump/app/models.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="hashlib.html">hashlib</a><br>
</td><td width="25%" valign=top></td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="flask_login.html#AnonymousUserMixin">flask_login.AnonymousUserMixin</a>(<a href="__builtin__.html#object">__builtin__.object</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="app.models.html#AnonymousUser">AnonymousUser</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="flask_login.html#UserMixin">flask_login.UserMixin</a>(<a href="__builtin__.html#object">__builtin__.object</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="app.models.html#User">User</a>(<a href="flask_login.html#UserMixin">flask_login.UserMixin</a>, flask_sqlalchemy.Model)
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="flask_sqlalchemy.html#BaseQuery">flask_sqlalchemy.BaseQuery</a>(<a href="sqlalchemy.orm.query.html#Query">sqlalchemy.orm.query.Query</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="app.models.html#NoteQuery">NoteQuery</a>(<a href="flask_sqlalchemy.html#BaseQuery">flask_sqlalchemy.BaseQuery</a>, <a href="sqlalchemy_searchable.html#SearchQueryMixin">sqlalchemy_searchable.SearchQueryMixin</a>)
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial">flask_sqlalchemy.Model(<a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="app.models.html#Note">Note</a>
</font></dt><dt><font face="helvetica, arial"><a href="app.models.html#Notebook">Notebook</a>
</font></dt><dt><font face="helvetica, arial"><a href="app.models.html#Tag">Tag</a>
</font></dt><dt><font face="helvetica, arial"><a href="app.models.html#User">User</a>(<a href="flask_login.html#UserMixin">flask_login.UserMixin</a>, flask_sqlalchemy.Model)
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="sqlalchemy_searchable.html#SearchQueryMixin">sqlalchemy_searchable.SearchQueryMixin</a>(<a href="__builtin__.html#object">__builtin__.object</a>)
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="app.models.html#NoteQuery">NoteQuery</a>(<a href="flask_sqlalchemy.html#BaseQuery">flask_sqlalchemy.BaseQuery</a>, <a href="sqlalchemy_searchable.html#SearchQueryMixin">sqlalchemy_searchable.SearchQueryMixin</a>)
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="AnonymousUser">class <strong>AnonymousUser</strong></a>(<a href="flask_login.html#AnonymousUserMixin">flask_login.AnonymousUserMixin</a>)</font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="app.models.html#AnonymousUser">AnonymousUser</a></dd>
<dd><a href="flask_login.html#AnonymousUserMixin">flask_login.AnonymousUserMixin</a></dd>
<dd><a href="__builtin__.html#object">__builtin__.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="AnonymousUser-can"><strong>can</strong></a>(self)</dt></dl>

<dl><dt><a name="AnonymousUser-is_administrator"><strong>is_administrator</strong></a>(self)</dt></dl>

<hr>
Methods inherited from <a href="flask_login.html#AnonymousUserMixin">flask_login.AnonymousUserMixin</a>:<br>
<dl><dt><a name="AnonymousUser-get_id"><strong>get_id</strong></a>(self)</dt></dl>

<dl><dt><a name="AnonymousUser-is_active"><strong>is_active</strong></a>(self)</dt></dl>

<dl><dt><a name="AnonymousUser-is_anonymous"><strong>is_anonymous</strong></a>(self)</dt></dl>

<dl><dt><a name="AnonymousUser-is_authenticated"><strong>is_authenticated</strong></a>(self)</dt></dl>

<hr>
Data descriptors inherited from <a href="flask_login.html#AnonymousUserMixin">flask_login.AnonymousUserMixin</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Note">class <strong>Note</strong></a>(flask_sqlalchemy.Model)</font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="app.models.html#Note">Note</a></dd>
<dd>flask_sqlalchemy.Model</dd>
<dd><a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a></dd>
<dd><a href="__builtin__.html#object">__builtin__.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="Note-__init__"><strong>__init__</strong></a>(self, **kwargs)</dt><dd><tt>A&nbsp;simple&nbsp;constructor&nbsp;that&nbsp;allows&nbsp;initialization&nbsp;from&nbsp;kwargs.<br>
&nbsp;<br>
Sets&nbsp;attributes&nbsp;on&nbsp;the&nbsp;constructed&nbsp;instance&nbsp;using&nbsp;the&nbsp;names&nbsp;and<br>
values&nbsp;in&nbsp;``kwargs``.<br>
&nbsp;<br>
Only&nbsp;keys&nbsp;that&nbsp;are&nbsp;present&nbsp;as<br>
attributes&nbsp;of&nbsp;the&nbsp;instance's&nbsp;class&nbsp;are&nbsp;allowed.&nbsp;These&nbsp;could&nbsp;be,<br>
for&nbsp;example,&nbsp;any&nbsp;mapped&nbsp;columns&nbsp;or&nbsp;relationships.</tt></dd></dl>

<dl><dt><a name="Note-get_notebook"><strong>get_notebook</strong></a>(self, id)</dt></dl>

<dl><dt><a name="Note-to_json"><strong>to_json</strong></a>(self)</dt></dl>

<hr>
Static methods defined here:<br>
<dl><dt><a name="Note-from_json"><strong>from_json</strong></a>(json_post)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>author_id</strong></dt>
</dl>
<dl><dt><strong>body</strong></dt>
</dl>
<dl><dt><strong>body_html</strong></dt>
</dl>
<dl><dt><strong>created_date</strong></dt>
</dl>
<dl><dt><strong>id</strong></dt>
</dl>
<dl><dt><strong>is_archived</strong></dt>
</dl>
<dl><dt><strong>is_deleted</strong></dt>
</dl>
<dl><dt><strong>is_favorite</strong></dt>
</dl>
<dl><dt><strong>notebook_id</strong></dt>
</dl>
<dl><dt><strong>search_vector</strong></dt>
</dl>
<dl><dt><strong>str_tags</strong></dt>
</dl>
<dl><dt><strong>tags</strong></dt>
</dl>
<dl><dt><strong>title</strong></dt>
</dl>
<dl><dt><strong>updated_date</strong></dt>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>__mapper__</strong> = &lt;Mapper at 0x10d3b95d0; Note&gt;</dl>

<dl><dt><strong>__table__</strong> = Table('notes', MetaData(bind=None), Column('id',...or', TSVectorType(), table=&lt;notes&gt;), schema=None)</dl>

<dl><dt><strong>__table_args__</strong> = None</dl>

<dl><dt><strong>__tablename__</strong> = 'notes'</dl>

<dl><dt><strong>query_class</strong> = &lt;class 'app.models.NoteQuery'&gt;</dl>

<hr>
Methods inherited from flask_sqlalchemy.Model:<br>
<dl><dt><strong>query</strong></dt>
</dl>

<hr>
Data and other attributes inherited from flask_sqlalchemy.Model:<br>
<dl><dt><strong>metadata</strong> = MetaData(bind=None)</dl>

<hr>
Data descriptors inherited from <a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="NoteQuery">class <strong>NoteQuery</strong></a>(<a href="flask_sqlalchemy.html#BaseQuery">flask_sqlalchemy.BaseQuery</a>, <a href="sqlalchemy_searchable.html#SearchQueryMixin">sqlalchemy_searchable.SearchQueryMixin</a>)</font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="app.models.html#NoteQuery">NoteQuery</a></dd>
<dd><a href="flask_sqlalchemy.html#BaseQuery">flask_sqlalchemy.BaseQuery</a></dd>
<dd><a href="sqlalchemy.orm.query.html#Query">sqlalchemy.orm.query.Query</a></dd>
<dd><a href="sqlalchemy_searchable.html#SearchQueryMixin">sqlalchemy_searchable.SearchQueryMixin</a></dd>
<dd><a href="__builtin__.html#object">__builtin__.object</a></dd>
</dl>
<hr>
Methods inherited from <a href="flask_sqlalchemy.html#BaseQuery">flask_sqlalchemy.BaseQuery</a>:<br>
<dl><dt><a name="NoteQuery-first_or_404"><strong>first_or_404</strong></a>(self)</dt><dd><tt>Like&nbsp;:meth:`first`&nbsp;but&nbsp;aborts&nbsp;with&nbsp;404&nbsp;if&nbsp;not&nbsp;found&nbsp;instead&nbsp;of<br>
returning&nbsp;`None`.</tt></dd></dl>

<dl><dt><a name="NoteQuery-get_or_404"><strong>get_or_404</strong></a>(self, ident)</dt><dd><tt>Like&nbsp;:meth:`get`&nbsp;but&nbsp;aborts&nbsp;with&nbsp;404&nbsp;if&nbsp;not&nbsp;found&nbsp;instead&nbsp;of<br>
returning&nbsp;`None`.</tt></dd></dl>

<dl><dt><a name="NoteQuery-paginate"><strong>paginate</strong></a>(self, page<font color="#909090">=None</font>, per_page<font color="#909090">=None</font>, error_out<font color="#909090">=True</font>)</dt><dd><tt>Returns&nbsp;`per_page`&nbsp;items&nbsp;from&nbsp;page&nbsp;`page`.&nbsp;&nbsp;By&nbsp;default&nbsp;it&nbsp;will<br>
abort&nbsp;with&nbsp;404&nbsp;if&nbsp;no&nbsp;items&nbsp;were&nbsp;found&nbsp;and&nbsp;the&nbsp;page&nbsp;was&nbsp;larger&nbsp;than<br>
1.&nbsp;&nbsp;This&nbsp;behavor&nbsp;can&nbsp;be&nbsp;disabled&nbsp;by&nbsp;setting&nbsp;`error_out`&nbsp;to&nbsp;`False`.<br>
&nbsp;<br>
If&nbsp;page&nbsp;or&nbsp;per_page&nbsp;are&nbsp;None,&nbsp;they&nbsp;will&nbsp;be&nbsp;retrieved&nbsp;from&nbsp;the<br>
request&nbsp;query.&nbsp;&nbsp;If&nbsp;the&nbsp;values&nbsp;are&nbsp;not&nbsp;ints&nbsp;and&nbsp;``error_out``&nbsp;is<br>
true,&nbsp;it&nbsp;will&nbsp;abort&nbsp;with&nbsp;404.&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;request&nbsp;or&nbsp;they<br>
aren't&nbsp;in&nbsp;the&nbsp;query,&nbsp;they&nbsp;default&nbsp;to&nbsp;page&nbsp;1&nbsp;and&nbsp;20<br>
respectively.<br>
&nbsp;<br>
Returns&nbsp;an&nbsp;:class:`Pagination`&nbsp;object.</tt></dd></dl>

<hr>
Methods inherited from <a href="sqlalchemy.orm.query.html#Query">sqlalchemy.orm.query.Query</a>:<br>
<dl><dt><a name="NoteQuery-__clause_element__"><strong>__clause_element__</strong></a>(self)</dt></dl>

<dl><dt><a name="NoteQuery-__getitem__"><strong>__getitem__</strong></a>(self, item)</dt></dl>

<dl><dt><a name="NoteQuery-__init__"><strong>__init__</strong></a>(self, entities, session<font color="#909090">=None</font>)</dt></dl>

<dl><dt><a name="NoteQuery-__iter__"><strong>__iter__</strong></a>(self)</dt></dl>

<dl><dt><a name="NoteQuery-__str__"><strong>__str__</strong></a>(self)</dt></dl>

<dl><dt><a name="NoteQuery-add_column"><strong>add_column</strong></a>(self, column)</dt><dd><tt>Add&nbsp;a&nbsp;column&nbsp;expression&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;result&nbsp;columns&nbsp;to&nbsp;be<br>
returned.<br>
&nbsp;<br>
Pending&nbsp;deprecation:&nbsp;:meth:`.add_column`&nbsp;will&nbsp;be&nbsp;superseded&nbsp;by<br>
:meth:`.add_columns`.</tt></dd></dl>

<dl><dt><a name="NoteQuery-add_columns"><strong>add_columns</strong></a>(self, *column)</dt><dd><tt>Add&nbsp;one&nbsp;or&nbsp;more&nbsp;column&nbsp;expressions&nbsp;to&nbsp;the&nbsp;list<br>
of&nbsp;result&nbsp;columns&nbsp;to&nbsp;be&nbsp;returned.</tt></dd></dl>

<dl><dt><a name="NoteQuery-add_entity"><strong>add_entity</strong></a>(self, entity, alias<font color="#909090">=None</font>)</dt><dd><tt>add&nbsp;a&nbsp;mapped&nbsp;entity&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;result&nbsp;columns<br>
to&nbsp;be&nbsp;returned.</tt></dd></dl>

<dl><dt><a name="NoteQuery-all"><strong>all</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;results&nbsp;represented&nbsp;by&nbsp;this&nbsp;``Query``&nbsp;as&nbsp;a&nbsp;list.<br>
&nbsp;<br>
This&nbsp;results&nbsp;in&nbsp;an&nbsp;execution&nbsp;of&nbsp;the&nbsp;underlying&nbsp;query.</tt></dd></dl>

<dl><dt><a name="NoteQuery-as_scalar"><strong>as_scalar</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;full&nbsp;SELECT&nbsp;statement&nbsp;represented&nbsp;by&nbsp;this<br>
:class:`.Query`,&nbsp;converted&nbsp;to&nbsp;a&nbsp;scalar&nbsp;subquery.<br>
&nbsp;<br>
Analogous&nbsp;to&nbsp;:meth:`sqlalchemy.sql.expression.SelectBase.as_scalar`.<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;0.6.5</tt></dd></dl>

<dl><dt><a name="NoteQuery-autoflush"><strong>autoflush</strong></a>(self, setting)</dt><dd><tt>Return&nbsp;a&nbsp;Query&nbsp;with&nbsp;a&nbsp;specific&nbsp;'autoflush'&nbsp;setting.<br>
&nbsp;<br>
<a href="#Note">Note</a>&nbsp;that&nbsp;a&nbsp;Session&nbsp;with&nbsp;autoflush=False&nbsp;will<br>
not&nbsp;autoflush,&nbsp;even&nbsp;if&nbsp;this&nbsp;flag&nbsp;is&nbsp;set&nbsp;to&nbsp;True&nbsp;at&nbsp;the<br>
Query&nbsp;level.&nbsp;&nbsp;Therefore&nbsp;this&nbsp;flag&nbsp;is&nbsp;usually&nbsp;used&nbsp;only<br>
to&nbsp;disable&nbsp;autoflush&nbsp;for&nbsp;a&nbsp;specific&nbsp;Query.</tt></dd></dl>

<dl><dt><a name="NoteQuery-correlate"><strong>correlate</strong></a>(self, *args)</dt><dd><tt>Return&nbsp;a&nbsp;:class:`.Query`&nbsp;construct&nbsp;which&nbsp;will&nbsp;correlate&nbsp;the&nbsp;given<br>
FROM&nbsp;clauses&nbsp;to&nbsp;that&nbsp;of&nbsp;an&nbsp;enclosing&nbsp;:class:`.Query`&nbsp;or<br>
:func:`~.expression.select`.<br>
&nbsp;<br>
The&nbsp;method&nbsp;here&nbsp;accepts&nbsp;mapped&nbsp;classes,&nbsp;:func:`.aliased`&nbsp;constructs,<br>
and&nbsp;:func:`.mapper`&nbsp;constructs&nbsp;as&nbsp;arguments,&nbsp;which&nbsp;are&nbsp;resolved&nbsp;into<br>
expression&nbsp;constructs,&nbsp;in&nbsp;addition&nbsp;to&nbsp;appropriate&nbsp;expression<br>
constructs.<br>
&nbsp;<br>
The&nbsp;correlation&nbsp;arguments&nbsp;are&nbsp;ultimately&nbsp;passed&nbsp;to<br>
:meth:`.Select.correlate`&nbsp;after&nbsp;coercion&nbsp;to&nbsp;expression&nbsp;constructs.<br>
&nbsp;<br>
The&nbsp;correlation&nbsp;arguments&nbsp;take&nbsp;effect&nbsp;in&nbsp;such&nbsp;cases<br>
as&nbsp;when&nbsp;:meth:`.Query.from_self`&nbsp;is&nbsp;used,&nbsp;or&nbsp;when<br>
a&nbsp;subquery&nbsp;as&nbsp;returned&nbsp;by&nbsp;:meth:`.Query.subquery`&nbsp;is<br>
embedded&nbsp;in&nbsp;another&nbsp;:func:`~.expression.select`&nbsp;construct.</tt></dd></dl>

<dl><dt><a name="NoteQuery-count"><strong>count</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;count&nbsp;of&nbsp;rows&nbsp;this&nbsp;Query&nbsp;would&nbsp;return.<br>
&nbsp;<br>
This&nbsp;generates&nbsp;the&nbsp;SQL&nbsp;for&nbsp;this&nbsp;Query&nbsp;as&nbsp;follows::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;<a href="#NoteQuery-count">count</a>(1)&nbsp;AS&nbsp;count_1&nbsp;FROM&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;&lt;rest&nbsp;of&nbsp;query&nbsp;follows...&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;AS&nbsp;anon_1<br>
&nbsp;<br>
..&nbsp;versionchanged::&nbsp;0.7<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;above&nbsp;scheme&nbsp;is&nbsp;newly&nbsp;refined&nbsp;as&nbsp;of&nbsp;0.7b3.<br>
&nbsp;<br>
For&nbsp;fine&nbsp;grained&nbsp;control&nbsp;over&nbsp;specific&nbsp;columns<br>
to&nbsp;count,&nbsp;to&nbsp;skip&nbsp;the&nbsp;usage&nbsp;of&nbsp;a&nbsp;subquery&nbsp;or<br>
otherwise&nbsp;control&nbsp;of&nbsp;the&nbsp;FROM&nbsp;clause,<br>
or&nbsp;to&nbsp;use&nbsp;other&nbsp;aggregate&nbsp;functions,<br>
use&nbsp;:attr:`~sqlalchemy.sql.expression.func`<br>
expressions&nbsp;in&nbsp;conjunction<br>
with&nbsp;:meth:`~.Session.query`,&nbsp;i.e.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;sqlalchemy&nbsp;import&nbsp;func<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;count&nbsp;<a href="#User">User</a>&nbsp;records,&nbsp;without<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;using&nbsp;a&nbsp;subquery.<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.query(func.<a href="#NoteQuery-count">count</a>(<a href="#User">User</a>.id))<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;return&nbsp;count&nbsp;of&nbsp;user&nbsp;"id"&nbsp;grouped<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;by&nbsp;"name"<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.query(func.<a href="#NoteQuery-count">count</a>(<a href="#User">User</a>.id)).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-group_by">group_by</a>(<a href="#User">User</a>.name)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;sqlalchemy&nbsp;import&nbsp;distinct<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;count&nbsp;distinct&nbsp;"name"&nbsp;values<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.query(func.<a href="#NoteQuery-count">count</a>(<a href="#NoteQuery-distinct">distinct</a>(<a href="#User">User</a>.name)))</tt></dd></dl>

<dl><dt><a name="NoteQuery-cte"><strong>cte</strong></a>(self, name<font color="#909090">=None</font>, recursive<font color="#909090">=False</font>)</dt><dd><tt>Return&nbsp;the&nbsp;full&nbsp;SELECT&nbsp;statement&nbsp;represented&nbsp;by&nbsp;this<br>
:class:`.Query`&nbsp;represented&nbsp;as&nbsp;a&nbsp;common&nbsp;table&nbsp;expression&nbsp;(CTE).<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;0.7.6<br>
&nbsp;<br>
Parameters&nbsp;and&nbsp;usage&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;those&nbsp;of&nbsp;the<br>
:meth:`.SelectBase.cte`&nbsp;method;&nbsp;see&nbsp;that&nbsp;method&nbsp;for<br>
further&nbsp;details.<br>
&nbsp;<br>
Here&nbsp;is&nbsp;the&nbsp;`Postgresql&nbsp;WITH<br>
RECURSIVE&nbsp;example<br>
&lt;<a href="http://www.postgresql.org/docs/8.4/static/queries-with.html&gt;`_">http://www.postgresql.org/docs/8.4/static/queries-with.html&gt;`_</a>.<br>
<a href="#Note">Note</a>&nbsp;that,&nbsp;in&nbsp;this&nbsp;example,&nbsp;the&nbsp;``included_parts``&nbsp;cte&nbsp;and&nbsp;the<br>
``incl_alias``&nbsp;alias&nbsp;of&nbsp;it&nbsp;are&nbsp;Core&nbsp;selectables,&nbsp;which<br>
means&nbsp;the&nbsp;columns&nbsp;are&nbsp;accessed&nbsp;via&nbsp;the&nbsp;``.c.``&nbsp;attribute.&nbsp;&nbsp;The<br>
``parts_alias``&nbsp;object&nbsp;is&nbsp;an&nbsp;:func:`.orm.aliased`&nbsp;instance&nbsp;of&nbsp;the<br>
``Part``&nbsp;entity,&nbsp;so&nbsp;column-mapped&nbsp;attributes&nbsp;are&nbsp;available<br>
directly::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;sqlalchemy.orm&nbsp;import&nbsp;aliased<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;Part(Base):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__tablename__&nbsp;=&nbsp;'part'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;part&nbsp;=&nbsp;Column(String,&nbsp;primary_key=True)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sub_part&nbsp;=&nbsp;Column(String,&nbsp;primary_key=True)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quantity&nbsp;=&nbsp;Column(Integer)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;included_parts&nbsp;=&nbsp;session.query(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Part.sub_part,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Part.part,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Part.quantity).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(Part.part=="our&nbsp;part").\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-cte">cte</a>(name="included_parts",&nbsp;recursive=True)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;incl_alias&nbsp;=&nbsp;aliased(included_parts,&nbsp;name="pr")<br>
&nbsp;&nbsp;&nbsp;&nbsp;parts_alias&nbsp;=&nbsp;aliased(Part,&nbsp;name="p")<br>
&nbsp;&nbsp;&nbsp;&nbsp;included_parts&nbsp;=&nbsp;included_parts.<a href="#NoteQuery-union_all">union_all</a>(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session.query(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parts_alias.sub_part,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parts_alias.part,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parts_alias.quantity).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(parts_alias.part==incl_alias.c.sub_part)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;included_parts.c.sub_part,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;func.sum(included_parts.c.quantity).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-label">label</a>('total_quantity')<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-group_by">group_by</a>(included_parts.c.sub_part)<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.SelectBase.cte`</tt></dd></dl>

<dl><dt><a name="NoteQuery-delete"><strong>delete</strong></a>(self, synchronize_session<font color="#909090">='evaluate'</font>)</dt><dd><tt>Perform&nbsp;a&nbsp;bulk&nbsp;delete&nbsp;query.<br>
&nbsp;<br>
Deletes&nbsp;rows&nbsp;matched&nbsp;by&nbsp;this&nbsp;query&nbsp;from&nbsp;the&nbsp;database.<br>
&nbsp;<br>
E.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sess.query(<a href="#User">User</a>).<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.age&nbsp;==&nbsp;25).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-delete">delete</a>(synchronize_session=False)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sess.query(<a href="#User">User</a>).<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.age&nbsp;==&nbsp;25).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-delete">delete</a>(synchronize_session='evaluate')<br>
&nbsp;<br>
..&nbsp;warning::&nbsp;The&nbsp;:meth:`.Query.delete`&nbsp;method&nbsp;is&nbsp;a&nbsp;"bulk"&nbsp;operation,<br>
&nbsp;&nbsp;&nbsp;which&nbsp;bypasses&nbsp;ORM&nbsp;unit-of-work&nbsp;automation&nbsp;in&nbsp;favor&nbsp;of&nbsp;greater<br>
&nbsp;&nbsp;&nbsp;performance.&nbsp;&nbsp;**Please&nbsp;read&nbsp;all&nbsp;caveats&nbsp;and&nbsp;warnings&nbsp;below.**<br>
&nbsp;<br>
:param&nbsp;synchronize_session:&nbsp;chooses&nbsp;the&nbsp;strategy&nbsp;for&nbsp;the&nbsp;removal&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;objects&nbsp;from&nbsp;the&nbsp;session.&nbsp;Valid&nbsp;values&nbsp;are:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;``False``&nbsp;-&nbsp;don't&nbsp;synchronize&nbsp;the&nbsp;session.&nbsp;This&nbsp;option&nbsp;is&nbsp;the&nbsp;most<br>
&nbsp;&nbsp;&nbsp;&nbsp;efficient&nbsp;and&nbsp;is&nbsp;reliable&nbsp;once&nbsp;the&nbsp;session&nbsp;is&nbsp;expired,&nbsp;which<br>
&nbsp;&nbsp;&nbsp;&nbsp;typically&nbsp;occurs&nbsp;after&nbsp;a&nbsp;commit(),&nbsp;or&nbsp;explicitly&nbsp;using<br>
&nbsp;&nbsp;&nbsp;&nbsp;expire_all().&nbsp;Before&nbsp;the&nbsp;expiration,&nbsp;objects&nbsp;may&nbsp;still&nbsp;remain&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;session&nbsp;which&nbsp;were&nbsp;in&nbsp;fact&nbsp;deleted&nbsp;which&nbsp;can&nbsp;lead&nbsp;to&nbsp;confusing<br>
&nbsp;&nbsp;&nbsp;&nbsp;results&nbsp;if&nbsp;they&nbsp;are&nbsp;accessed&nbsp;via&nbsp;<a href="#NoteQuery-get">get</a>()&nbsp;or&nbsp;already&nbsp;loaded<br>
&nbsp;&nbsp;&nbsp;&nbsp;collections.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;``'fetch'``&nbsp;-&nbsp;performs&nbsp;a&nbsp;select&nbsp;query&nbsp;before&nbsp;the&nbsp;delete&nbsp;to&nbsp;find<br>
&nbsp;&nbsp;&nbsp;&nbsp;objects&nbsp;that&nbsp;are&nbsp;matched&nbsp;by&nbsp;the&nbsp;delete&nbsp;query&nbsp;and&nbsp;need&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;removed&nbsp;from&nbsp;the&nbsp;session.&nbsp;Matched&nbsp;objects&nbsp;are&nbsp;removed&nbsp;from&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;``'evaluate'``&nbsp;-&nbsp;Evaluate&nbsp;the&nbsp;query's&nbsp;criteria&nbsp;in&nbsp;Python&nbsp;straight<br>
&nbsp;&nbsp;&nbsp;&nbsp;on&nbsp;the&nbsp;objects&nbsp;in&nbsp;the&nbsp;session.&nbsp;If&nbsp;evaluation&nbsp;of&nbsp;the&nbsp;criteria&nbsp;isn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;implemented,&nbsp;an&nbsp;error&nbsp;is&nbsp;raised.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;expression&nbsp;evaluator&nbsp;currently&nbsp;doesn't&nbsp;account&nbsp;for&nbsp;differing<br>
&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;collations&nbsp;between&nbsp;the&nbsp;database&nbsp;and&nbsp;Python.<br>
&nbsp;<br>
:return:&nbsp;the&nbsp;count&nbsp;of&nbsp;rows&nbsp;matched&nbsp;as&nbsp;returned&nbsp;by&nbsp;the&nbsp;database's<br>
&nbsp;&nbsp;"row&nbsp;count"&nbsp;feature.<br>
&nbsp;<br>
..&nbsp;warning::&nbsp;**Additional&nbsp;Caveats&nbsp;for&nbsp;bulk&nbsp;query&nbsp;deletes**<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;method&nbsp;does&nbsp;**not**&nbsp;offer&nbsp;in-Python&nbsp;cascading&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relationships&nbsp;-&nbsp;it&nbsp;is&nbsp;assumed&nbsp;that&nbsp;ON&nbsp;DELETE&nbsp;CASCADE/SET<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NULL/etc.&nbsp;is&nbsp;configured&nbsp;for&nbsp;any&nbsp;foreign&nbsp;key&nbsp;references<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;require&nbsp;it,&nbsp;otherwise&nbsp;the&nbsp;database&nbsp;may&nbsp;emit&nbsp;an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;integrity&nbsp;violation&nbsp;if&nbsp;foreign&nbsp;key&nbsp;references&nbsp;are&nbsp;being<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enforced.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;After&nbsp;the&nbsp;DELETE,&nbsp;dependent&nbsp;objects&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:class:`.Session`&nbsp;which&nbsp;were&nbsp;impacted&nbsp;by&nbsp;an&nbsp;ON&nbsp;DELETE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;may&nbsp;not&nbsp;contain&nbsp;the&nbsp;current&nbsp;state,&nbsp;or&nbsp;may&nbsp;have&nbsp;been<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deleted.&nbsp;This&nbsp;issue&nbsp;is&nbsp;resolved&nbsp;once&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:class:`.Session`&nbsp;is&nbsp;expired,&nbsp;which&nbsp;normally&nbsp;occurs&nbsp;upon<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Session.commit`&nbsp;or&nbsp;can&nbsp;be&nbsp;forced&nbsp;by&nbsp;using<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Session.expire_all`.&nbsp;&nbsp;Accessing&nbsp;an&nbsp;expired<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object&nbsp;whose&nbsp;row&nbsp;has&nbsp;been&nbsp;deleted&nbsp;will&nbsp;invoke&nbsp;a&nbsp;SELECT<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;locate&nbsp;the&nbsp;row;&nbsp;when&nbsp;the&nbsp;row&nbsp;is&nbsp;not&nbsp;found,&nbsp;an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:class:`~sqlalchemy.orm.exc.ObjectDeletedError`&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;raised.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;``'fetch'``&nbsp;strategy&nbsp;results&nbsp;in&nbsp;an&nbsp;additional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;statement&nbsp;emitted&nbsp;and&nbsp;will&nbsp;significantly&nbsp;reduce<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;performance.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;``'evaluate'``&nbsp;strategy&nbsp;performs&nbsp;a&nbsp;scan&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;matching&nbsp;objects&nbsp;within&nbsp;the&nbsp;:class:`.Session`;&nbsp;if&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;of&nbsp;the&nbsp;:class:`.Session`&nbsp;are&nbsp;expired,&nbsp;such&nbsp;as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;via&nbsp;a&nbsp;proceeding&nbsp;:meth:`.Session.commit`&nbsp;call,&nbsp;**this&nbsp;will<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;in&nbsp;SELECT&nbsp;queries&nbsp;emitted&nbsp;for&nbsp;every&nbsp;matching&nbsp;object**.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;:meth:`.MapperEvents.before_delete`&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.MapperEvents.after_delete`<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events&nbsp;**are&nbsp;not&nbsp;invoked**&nbsp;from&nbsp;this&nbsp;method.&nbsp;&nbsp;Instead,&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.SessionEvents.after_bulk_delete`&nbsp;method&nbsp;is&nbsp;provided&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;act&nbsp;upon&nbsp;a&nbsp;mass&nbsp;DELETE&nbsp;of&nbsp;entity&nbsp;rows.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.update`<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:ref:`inserts_and_updates`&nbsp;-&nbsp;Core&nbsp;SQL&nbsp;tutorial</tt></dd></dl>

<strong>dispatch</strong> = &lt;sqlalchemy.event.base.QueryEventsDispatch object&gt;
<dl><dt><a name="NoteQuery-distinct"><strong>distinct</strong></a>(self, *criterion)</dt><dd><tt>Apply&nbsp;a&nbsp;``DISTINCT``&nbsp;to&nbsp;the&nbsp;query&nbsp;and&nbsp;return&nbsp;the&nbsp;newly&nbsp;resulting<br>
``Query``.<br>
&nbsp;<br>
&nbsp;<br>
..&nbsp;note::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;:meth:`.distinct`&nbsp;call&nbsp;includes&nbsp;logic&nbsp;that&nbsp;will&nbsp;automatically<br>
&nbsp;&nbsp;&nbsp;&nbsp;add&nbsp;columns&nbsp;from&nbsp;the&nbsp;ORDER&nbsp;BY&nbsp;of&nbsp;the&nbsp;query&nbsp;to&nbsp;the&nbsp;columns<br>
&nbsp;&nbsp;&nbsp;&nbsp;clause&nbsp;of&nbsp;the&nbsp;SELECT&nbsp;statement,&nbsp;to&nbsp;satisfy&nbsp;the&nbsp;common&nbsp;need<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;database&nbsp;backend&nbsp;that&nbsp;ORDER&nbsp;BY&nbsp;columns&nbsp;be&nbsp;part&nbsp;of&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;list&nbsp;when&nbsp;DISTINCT&nbsp;is&nbsp;used.&nbsp;&nbsp;&nbsp;These&nbsp;columns&nbsp;*are&nbsp;not*<br>
&nbsp;&nbsp;&nbsp;&nbsp;added&nbsp;to&nbsp;the&nbsp;list&nbsp;of&nbsp;columns&nbsp;actually&nbsp;fetched&nbsp;by&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;:class:`.Query`,&nbsp;however,&nbsp;so&nbsp;would&nbsp;not&nbsp;affect&nbsp;results.<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;columns&nbsp;are&nbsp;passed&nbsp;through&nbsp;when&nbsp;using&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;:attr:`.Query.statement`&nbsp;accessor,&nbsp;however.<br>
&nbsp;<br>
:param&nbsp;\*expr:&nbsp;optional&nbsp;column&nbsp;expressions.&nbsp;&nbsp;When&nbsp;present,<br>
&nbsp;the&nbsp;Postgresql&nbsp;dialect&nbsp;will&nbsp;render&nbsp;a&nbsp;``DISTINCT&nbsp;ON&nbsp;(&lt;expressions&gt;&gt;)``<br>
&nbsp;construct.</tt></dd></dl>

<dl><dt><a name="NoteQuery-enable_assertions"><strong>enable_assertions</strong></a>(self, value)</dt><dd><tt>Control&nbsp;whether&nbsp;assertions&nbsp;are&nbsp;generated.<br>
&nbsp;<br>
When&nbsp;set&nbsp;to&nbsp;False,&nbsp;the&nbsp;returned&nbsp;Query&nbsp;will<br>
not&nbsp;assert&nbsp;its&nbsp;state&nbsp;before&nbsp;certain&nbsp;operations,<br>
including&nbsp;that&nbsp;LIMIT/OFFSET&nbsp;has&nbsp;not&nbsp;been&nbsp;applied<br>
when&nbsp;<a href="#NoteQuery-filter">filter</a>()&nbsp;is&nbsp;called,&nbsp;no&nbsp;criterion&nbsp;exists<br>
when&nbsp;<a href="#NoteQuery-get">get</a>()&nbsp;is&nbsp;called,&nbsp;and&nbsp;no&nbsp;"<a href="#NoteQuery-from_statement">from_statement</a>()"<br>
exists&nbsp;when&nbsp;<a href="#NoteQuery-filter">filter</a>()/<a href="#NoteQuery-order_by">order_by</a>()/<a href="#NoteQuery-group_by">group_by</a>()&nbsp;etc.<br>
is&nbsp;called.&nbsp;&nbsp;This&nbsp;more&nbsp;permissive&nbsp;mode&nbsp;is&nbsp;used&nbsp;by<br>
custom&nbsp;Query&nbsp;subclasses&nbsp;to&nbsp;specify&nbsp;criterion&nbsp;or<br>
other&nbsp;modifiers&nbsp;outside&nbsp;of&nbsp;the&nbsp;usual&nbsp;usage&nbsp;patterns.<br>
&nbsp;<br>
Care&nbsp;should&nbsp;be&nbsp;taken&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;usage<br>
pattern&nbsp;is&nbsp;even&nbsp;possible.&nbsp;&nbsp;A&nbsp;statement&nbsp;applied<br>
by&nbsp;<a href="#NoteQuery-from_statement">from_statement</a>()&nbsp;will&nbsp;override&nbsp;any&nbsp;criterion<br>
set&nbsp;by&nbsp;<a href="#NoteQuery-filter">filter</a>()&nbsp;or&nbsp;<a href="#NoteQuery-order_by">order_by</a>(),&nbsp;for&nbsp;example.</tt></dd></dl>

<dl><dt><a name="NoteQuery-enable_eagerloads"><strong>enable_eagerloads</strong></a>(self, value)</dt><dd><tt>Control&nbsp;whether&nbsp;or&nbsp;not&nbsp;eager&nbsp;joins&nbsp;and&nbsp;subqueries&nbsp;are<br>
rendered.<br>
&nbsp;<br>
When&nbsp;set&nbsp;to&nbsp;False,&nbsp;the&nbsp;returned&nbsp;Query&nbsp;will&nbsp;not&nbsp;render<br>
eager&nbsp;joins&nbsp;regardless&nbsp;of&nbsp;:func:`~sqlalchemy.orm.joinedload`,<br>
:func:`~sqlalchemy.orm.subqueryload`&nbsp;options<br>
or&nbsp;mapper-level&nbsp;``lazy='joined'``/``lazy='subquery'``<br>
configurations.<br>
&nbsp;<br>
This&nbsp;is&nbsp;used&nbsp;primarily&nbsp;when&nbsp;nesting&nbsp;the&nbsp;Query's<br>
statement&nbsp;into&nbsp;a&nbsp;subquery&nbsp;or&nbsp;other<br>
selectable,&nbsp;or&nbsp;when&nbsp;using&nbsp;:meth:`.Query.yield_per`.</tt></dd></dl>

<dl><dt><a name="NoteQuery-except_"><strong>except_</strong></a>(self, *q)</dt><dd><tt>Produce&nbsp;an&nbsp;EXCEPT&nbsp;of&nbsp;this&nbsp;Query&nbsp;against&nbsp;one&nbsp;or&nbsp;more&nbsp;queries.<br>
&nbsp;<br>
Works&nbsp;the&nbsp;same&nbsp;way&nbsp;as&nbsp;:meth:`~sqlalchemy.orm.query.Query.union`.&nbsp;See<br>
that&nbsp;method&nbsp;for&nbsp;usage&nbsp;examples.</tt></dd></dl>

<dl><dt><a name="NoteQuery-except_all"><strong>except_all</strong></a>(self, *q)</dt><dd><tt>Produce&nbsp;an&nbsp;EXCEPT&nbsp;ALL&nbsp;of&nbsp;this&nbsp;Query&nbsp;against&nbsp;one&nbsp;or&nbsp;more&nbsp;queries.<br>
&nbsp;<br>
Works&nbsp;the&nbsp;same&nbsp;way&nbsp;as&nbsp;:meth:`~sqlalchemy.orm.query.Query.union`.&nbsp;See<br>
that&nbsp;method&nbsp;for&nbsp;usage&nbsp;examples.</tt></dd></dl>

<dl><dt><a name="NoteQuery-execution_options"><strong>execution_options</strong></a>(self, **kwargs)</dt><dd><tt>Set&nbsp;non-SQL&nbsp;options&nbsp;which&nbsp;take&nbsp;effect&nbsp;during&nbsp;execution.<br>
&nbsp;<br>
The&nbsp;options&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;those&nbsp;accepted&nbsp;by<br>
:meth:`.Connection.execution_options`.<br>
&nbsp;<br>
<a href="#Note">Note</a>&nbsp;that&nbsp;the&nbsp;``stream_results``&nbsp;execution&nbsp;option&nbsp;is&nbsp;enabled<br>
automatically&nbsp;if&nbsp;the&nbsp;:meth:`~sqlalchemy.orm.query.Query.<a href="#NoteQuery-yield_per">yield_per</a>()`<br>
method&nbsp;is&nbsp;used.</tt></dd></dl>

<dl><dt><a name="NoteQuery-exists"><strong>exists</strong></a>(self)</dt><dd><tt>A&nbsp;convenience&nbsp;method&nbsp;that&nbsp;turns&nbsp;a&nbsp;query&nbsp;into&nbsp;an&nbsp;EXISTS&nbsp;subquery<br>
of&nbsp;the&nbsp;form&nbsp;EXISTS&nbsp;(SELECT&nbsp;1&nbsp;FROM&nbsp;...&nbsp;WHERE&nbsp;...).<br>
&nbsp;<br>
e.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name&nbsp;==&nbsp;'fred')<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.query(q.<a href="#NoteQuery-exists">exists</a>())<br>
&nbsp;<br>
Producing&nbsp;SQL&nbsp;similar&nbsp;to::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;EXISTS&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;1&nbsp;FROM&nbsp;users&nbsp;WHERE&nbsp;users.name&nbsp;=&nbsp;:name_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;AS&nbsp;anon_1<br>
&nbsp;<br>
The&nbsp;EXISTS&nbsp;construct&nbsp;is&nbsp;usually&nbsp;used&nbsp;in&nbsp;the&nbsp;WHERE&nbsp;clause::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.query(<a href="#User">User</a>.id).<a href="#NoteQuery-filter">filter</a>(q.<a href="#NoteQuery-exists">exists</a>()).<a href="#NoteQuery-scalar">scalar</a>()<br>
&nbsp;<br>
<a href="#Note">Note</a>&nbsp;that&nbsp;some&nbsp;databases&nbsp;such&nbsp;as&nbsp;SQL&nbsp;Server&nbsp;don't&nbsp;allow&nbsp;an<br>
EXISTS&nbsp;expression&nbsp;to&nbsp;be&nbsp;present&nbsp;in&nbsp;the&nbsp;columns&nbsp;clause&nbsp;of&nbsp;a<br>
SELECT.&nbsp;&nbsp;&nbsp;&nbsp;To&nbsp;select&nbsp;a&nbsp;simple&nbsp;boolean&nbsp;value&nbsp;based&nbsp;on&nbsp;the&nbsp;exists<br>
as&nbsp;a&nbsp;WHERE,&nbsp;use&nbsp;:func:`.literal`::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;sqlalchemy&nbsp;import&nbsp;literal<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.query(literal(True)).<a href="#NoteQuery-filter">filter</a>(q.<a href="#NoteQuery-exists">exists</a>()).<a href="#NoteQuery-scalar">scalar</a>()<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;0.8.1</tt></dd></dl>

<dl><dt><a name="NoteQuery-filter"><strong>filter</strong></a>(self, *criterion)</dt><dd><tt>apply&nbsp;the&nbsp;given&nbsp;filtering&nbsp;criterion&nbsp;to&nbsp;a&nbsp;copy<br>
of&nbsp;this&nbsp;:class:`.Query`,&nbsp;using&nbsp;SQL&nbsp;expressions.<br>
&nbsp;<br>
e.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.query(MyClass).<a href="#NoteQuery-filter">filter</a>(MyClass.name&nbsp;==&nbsp;'some&nbsp;name')<br>
&nbsp;<br>
Multiple&nbsp;criteria&nbsp;may&nbsp;be&nbsp;specified&nbsp;as&nbsp;comma&nbsp;separated;&nbsp;the&nbsp;effect<br>
is&nbsp;that&nbsp;they&nbsp;will&nbsp;be&nbsp;joined&nbsp;together&nbsp;using&nbsp;the&nbsp;:func:`.and_`<br>
function::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.query(MyClass).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(MyClass.name&nbsp;==&nbsp;'some&nbsp;name',&nbsp;MyClass.id&nbsp;&gt;&nbsp;5)<br>
&nbsp;<br>
The&nbsp;criterion&nbsp;is&nbsp;any&nbsp;SQL&nbsp;expression&nbsp;object&nbsp;applicable&nbsp;to&nbsp;the<br>
WHERE&nbsp;clause&nbsp;of&nbsp;a&nbsp;select.&nbsp;&nbsp;&nbsp;String&nbsp;expressions&nbsp;are&nbsp;coerced<br>
into&nbsp;SQL&nbsp;expression&nbsp;constructs&nbsp;via&nbsp;the&nbsp;:func:`.text`&nbsp;construct.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.filter_by`&nbsp;-&nbsp;filter&nbsp;on&nbsp;keyword&nbsp;expressions.</tt></dd></dl>

<dl><dt><a name="NoteQuery-filter_by"><strong>filter_by</strong></a>(self, **kwargs)</dt><dd><tt>apply&nbsp;the&nbsp;given&nbsp;filtering&nbsp;criterion&nbsp;to&nbsp;a&nbsp;copy<br>
of&nbsp;this&nbsp;:class:`.Query`,&nbsp;using&nbsp;keyword&nbsp;expressions.<br>
&nbsp;<br>
e.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.query(MyClass).<a href="#NoteQuery-filter_by">filter_by</a>(name&nbsp;=&nbsp;'some&nbsp;name')<br>
&nbsp;<br>
Multiple&nbsp;criteria&nbsp;may&nbsp;be&nbsp;specified&nbsp;as&nbsp;comma&nbsp;separated;&nbsp;the&nbsp;effect<br>
is&nbsp;that&nbsp;they&nbsp;will&nbsp;be&nbsp;joined&nbsp;together&nbsp;using&nbsp;the&nbsp;:func:`.and_`<br>
function::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;session.query(MyClass).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter_by">filter_by</a>(name&nbsp;=&nbsp;'some&nbsp;name',&nbsp;id&nbsp;=&nbsp;5)<br>
&nbsp;<br>
The&nbsp;keyword&nbsp;expressions&nbsp;are&nbsp;extracted&nbsp;from&nbsp;the&nbsp;primary<br>
entity&nbsp;of&nbsp;the&nbsp;query,&nbsp;or&nbsp;the&nbsp;last&nbsp;entity&nbsp;that&nbsp;was&nbsp;the<br>
target&nbsp;of&nbsp;a&nbsp;call&nbsp;to&nbsp;:meth:`.Query.join`.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.filter`&nbsp;-&nbsp;filter&nbsp;on&nbsp;SQL&nbsp;expressions.</tt></dd></dl>

<dl><dt><a name="NoteQuery-first"><strong>first</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;first&nbsp;result&nbsp;of&nbsp;this&nbsp;``Query``&nbsp;or<br>
None&nbsp;if&nbsp;the&nbsp;result&nbsp;doesn't&nbsp;contain&nbsp;any&nbsp;row.<br>
&nbsp;<br>
<a href="#NoteQuery-first">first</a>()&nbsp;applies&nbsp;a&nbsp;limit&nbsp;of&nbsp;one&nbsp;within&nbsp;the&nbsp;generated&nbsp;SQL,&nbsp;so&nbsp;that<br>
only&nbsp;one&nbsp;primary&nbsp;entity&nbsp;row&nbsp;is&nbsp;generated&nbsp;on&nbsp;the&nbsp;server&nbsp;side<br>
(note&nbsp;this&nbsp;may&nbsp;consist&nbsp;of&nbsp;multiple&nbsp;result&nbsp;rows&nbsp;if&nbsp;join-loaded<br>
collections&nbsp;are&nbsp;present).<br>
&nbsp;<br>
Calling&nbsp;:meth:`.Query.first`&nbsp;results&nbsp;in&nbsp;an&nbsp;execution&nbsp;of&nbsp;the&nbsp;underlying&nbsp;query.</tt></dd></dl>

<dl><dt><a name="NoteQuery-from_self"><strong>from_self</strong></a>(self, *entities)</dt><dd><tt>return&nbsp;a&nbsp;Query&nbsp;that&nbsp;selects&nbsp;from&nbsp;this&nbsp;Query's<br>
SELECT&nbsp;statement.<br>
&nbsp;<br>
:meth:`.Query.from_self`&nbsp;essentially&nbsp;turns&nbsp;the&nbsp;SELECT&nbsp;statement<br>
into&nbsp;a&nbsp;SELECT&nbsp;of&nbsp;itself.&nbsp;&nbsp;Given&nbsp;a&nbsp;query&nbsp;such&nbsp;as::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name.like('e%'))<br>
&nbsp;<br>
Given&nbsp;the&nbsp;:meth:`.Query.from_self`&nbsp;version::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name.like('e%')).<a href="#NoteQuery-from_self">from_self</a>()<br>
&nbsp;<br>
This&nbsp;query&nbsp;renders&nbsp;as:<br>
&nbsp;<br>
..&nbsp;sourcecode::&nbsp;sql<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;anon_1.user_id&nbsp;AS&nbsp;anon_1_user_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anon_1.user_name&nbsp;AS&nbsp;anon_1_user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;(SELECT&nbsp;"user".id&nbsp;AS&nbsp;user_id,&nbsp;"user".name&nbsp;AS&nbsp;user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;"user"<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;"user".name&nbsp;LIKE&nbsp;:name_1)&nbsp;AS&nbsp;anon_1<br>
&nbsp;<br>
There&nbsp;are&nbsp;lots&nbsp;of&nbsp;cases&nbsp;where&nbsp;:meth:`.Query.from_self`&nbsp;may&nbsp;be&nbsp;useful.<br>
A&nbsp;simple&nbsp;one&nbsp;is&nbsp;where&nbsp;above,&nbsp;we&nbsp;may&nbsp;want&nbsp;to&nbsp;apply&nbsp;a&nbsp;row&nbsp;LIMIT&nbsp;to<br>
the&nbsp;set&nbsp;of&nbsp;user&nbsp;objects&nbsp;we&nbsp;query&nbsp;against,&nbsp;and&nbsp;then&nbsp;apply&nbsp;additional<br>
joins&nbsp;against&nbsp;that&nbsp;row-limited&nbsp;set::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name.like('e%')).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-limit">limit</a>(5).<a href="#NoteQuery-from_self">from_self</a>().\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(<a href="#User">User</a>.addresses).<a href="#NoteQuery-filter">filter</a>(Address.email.like('q%'))<br>
&nbsp;<br>
The&nbsp;above&nbsp;query&nbsp;joins&nbsp;to&nbsp;the&nbsp;``Address``&nbsp;entity&nbsp;but&nbsp;only&nbsp;against&nbsp;the<br>
first&nbsp;five&nbsp;results&nbsp;of&nbsp;the&nbsp;``<a href="#User">User</a>``&nbsp;query:<br>
&nbsp;<br>
..&nbsp;sourcecode::&nbsp;sql<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;anon_1.user_id&nbsp;AS&nbsp;anon_1_user_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anon_1.user_name&nbsp;AS&nbsp;anon_1_user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;(SELECT&nbsp;"user".id&nbsp;AS&nbsp;user_id,&nbsp;"user".name&nbsp;AS&nbsp;user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;"user"<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;"user".name&nbsp;LIKE&nbsp;:name_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LIMIT&nbsp;:param_1)&nbsp;AS&nbsp;anon_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;address&nbsp;ON&nbsp;anon_1.user_id&nbsp;=&nbsp;address.user_id<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;address.email&nbsp;LIKE&nbsp;:email_1<br>
&nbsp;<br>
**Automatic&nbsp;Aliasing**<br>
&nbsp;<br>
Another&nbsp;key&nbsp;behavior&nbsp;of&nbsp;:meth:`.Query.from_self`&nbsp;is&nbsp;that&nbsp;it&nbsp;applies<br>
**automatic&nbsp;aliasing**&nbsp;to&nbsp;the&nbsp;entities&nbsp;inside&nbsp;the&nbsp;subquery,&nbsp;when<br>
they&nbsp;are&nbsp;referenced&nbsp;on&nbsp;the&nbsp;outside.&nbsp;&nbsp;Above,&nbsp;if&nbsp;we&nbsp;continue&nbsp;to<br>
refer&nbsp;to&nbsp;the&nbsp;``<a href="#User">User</a>``&nbsp;entity&nbsp;without&nbsp;any&nbsp;additional&nbsp;aliasing&nbsp;applied<br>
to&nbsp;it,&nbsp;those&nbsp;references&nbsp;wil&nbsp;be&nbsp;in&nbsp;terms&nbsp;of&nbsp;the&nbsp;subquery::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name.like('e%')).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-limit">limit</a>(5).<a href="#NoteQuery-from_self">from_self</a>().\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(<a href="#User">User</a>.addresses).<a href="#NoteQuery-filter">filter</a>(Address.email.like('q%')).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-order_by">order_by</a>(<a href="#User">User</a>.name)<br>
&nbsp;<br>
The&nbsp;ORDER&nbsp;BY&nbsp;against&nbsp;``<a href="#User">User</a>.name``&nbsp;is&nbsp;aliased&nbsp;to&nbsp;be&nbsp;in&nbsp;terms&nbsp;of&nbsp;the<br>
inner&nbsp;subquery:<br>
&nbsp;<br>
..&nbsp;sourcecode::&nbsp;sql<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;anon_1.user_id&nbsp;AS&nbsp;anon_1_user_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anon_1.user_name&nbsp;AS&nbsp;anon_1_user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;(SELECT&nbsp;"user".id&nbsp;AS&nbsp;user_id,&nbsp;"user".name&nbsp;AS&nbsp;user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;"user"<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;"user".name&nbsp;LIKE&nbsp;:name_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LIMIT&nbsp;:param_1)&nbsp;AS&nbsp;anon_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;address&nbsp;ON&nbsp;anon_1.user_id&nbsp;=&nbsp;address.user_id<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;address.email&nbsp;LIKE&nbsp;:email_1&nbsp;ORDER&nbsp;BY&nbsp;anon_1.user_name<br>
&nbsp;<br>
The&nbsp;automatic&nbsp;aliasing&nbsp;feature&nbsp;only&nbsp;works&nbsp;in&nbsp;a&nbsp;**limited**&nbsp;way,<br>
for&nbsp;simple&nbsp;filters&nbsp;and&nbsp;orderings.&nbsp;&nbsp;&nbsp;More&nbsp;ambitious&nbsp;constructions<br>
such&nbsp;as&nbsp;referring&nbsp;to&nbsp;the&nbsp;entity&nbsp;in&nbsp;joins&nbsp;should&nbsp;prefer&nbsp;to&nbsp;use<br>
explicit&nbsp;subquery&nbsp;objects,&nbsp;typically&nbsp;making&nbsp;use&nbsp;of&nbsp;the<br>
:meth:`.Query.subquery`&nbsp;method&nbsp;to&nbsp;produce&nbsp;an&nbsp;explicit&nbsp;subquery&nbsp;object.<br>
Always&nbsp;test&nbsp;the&nbsp;structure&nbsp;of&nbsp;queries&nbsp;by&nbsp;viewing&nbsp;the&nbsp;SQL&nbsp;to&nbsp;ensure<br>
a&nbsp;particular&nbsp;structure&nbsp;does&nbsp;what's&nbsp;expected!<br>
&nbsp;<br>
**Changing&nbsp;the&nbsp;Entities**<br>
&nbsp;<br>
:meth:`.Query.from_self`&nbsp;also&nbsp;includes&nbsp;the&nbsp;ability&nbsp;to&nbsp;modify&nbsp;what<br>
columns&nbsp;are&nbsp;being&nbsp;queried.&nbsp;&nbsp;&nbsp;In&nbsp;our&nbsp;example,&nbsp;we&nbsp;want&nbsp;``<a href="#User">User</a>.id``<br>
to&nbsp;be&nbsp;queried&nbsp;by&nbsp;the&nbsp;inner&nbsp;query,&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;join&nbsp;to&nbsp;the<br>
``Address``&nbsp;entity&nbsp;on&nbsp;the&nbsp;outside,&nbsp;but&nbsp;we&nbsp;only&nbsp;wanted&nbsp;the&nbsp;outer<br>
query&nbsp;to&nbsp;return&nbsp;the&nbsp;``Address.email``&nbsp;column::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name.like('e%')).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-limit">limit</a>(5).<a href="#NoteQuery-from_self">from_self</a>(Address.email).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(<a href="#User">User</a>.addresses).<a href="#NoteQuery-filter">filter</a>(Address.email.like('q%'))<br>
&nbsp;<br>
yielding:<br>
&nbsp;<br>
..&nbsp;sourcecode::&nbsp;sql<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;address.email&nbsp;AS&nbsp;address_email<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;(SELECT&nbsp;"user".id&nbsp;AS&nbsp;user_id,&nbsp;"user".name&nbsp;AS&nbsp;user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;"user"<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;"user".name&nbsp;LIKE&nbsp;:name_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LIMIT&nbsp;:param_1)&nbsp;AS&nbsp;anon_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;address&nbsp;ON&nbsp;anon_1.user_id&nbsp;=&nbsp;address.user_id<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;address.email&nbsp;LIKE&nbsp;:email_1<br>
&nbsp;<br>
**Looking&nbsp;out&nbsp;for&nbsp;Inner&nbsp;/&nbsp;Outer&nbsp;Columns**<br>
&nbsp;<br>
Keep&nbsp;in&nbsp;mind&nbsp;that&nbsp;when&nbsp;referring&nbsp;to&nbsp;columns&nbsp;that&nbsp;originate&nbsp;from<br>
inside&nbsp;the&nbsp;subquery,&nbsp;we&nbsp;need&nbsp;to&nbsp;ensure&nbsp;they&nbsp;are&nbsp;present&nbsp;in&nbsp;the<br>
columns&nbsp;clause&nbsp;of&nbsp;the&nbsp;subquery&nbsp;itself;&nbsp;this&nbsp;is&nbsp;an&nbsp;ordinary&nbsp;aspect&nbsp;of<br>
SQL.&nbsp;&nbsp;For&nbsp;example,&nbsp;if&nbsp;we&nbsp;wanted&nbsp;to&nbsp;load&nbsp;from&nbsp;a&nbsp;joined&nbsp;entity&nbsp;inside<br>
the&nbsp;subquery&nbsp;using&nbsp;:func:`.contains_eager`,&nbsp;we&nbsp;need&nbsp;to&nbsp;add&nbsp;those<br>
columns.&nbsp;&nbsp;&nbsp;Below&nbsp;illustrates&nbsp;a&nbsp;join&nbsp;of&nbsp;``Address``&nbsp;to&nbsp;``<a href="#User">User</a>``,<br>
then&nbsp;a&nbsp;subquery,&nbsp;and&nbsp;then&nbsp;we'd&nbsp;like&nbsp;:func:`.contains_eager`&nbsp;to&nbsp;access<br>
the&nbsp;``<a href="#User">User</a>``&nbsp;columns::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(Address).<a href="#NoteQuery-join">join</a>(Address.user).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name.like('e%'))<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;q.<a href="#NoteQuery-add_entity">add_entity</a>(<a href="#User">User</a>).<a href="#NoteQuery-from_self">from_self</a>().\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-options">options</a>(contains_eager(Address.user))<br>
&nbsp;<br>
We&nbsp;use&nbsp;:meth:`.Query.add_entity`&nbsp;above&nbsp;**before**&nbsp;we&nbsp;call<br>
:meth:`.Query.from_self`&nbsp;so&nbsp;that&nbsp;the&nbsp;``<a href="#User">User</a>``&nbsp;columns&nbsp;are&nbsp;present<br>
in&nbsp;the&nbsp;inner&nbsp;subquery,&nbsp;so&nbsp;that&nbsp;they&nbsp;are&nbsp;available&nbsp;to&nbsp;the<br>
:func:`.contains_eager`&nbsp;modifier&nbsp;we&nbsp;are&nbsp;using&nbsp;on&nbsp;the&nbsp;outside,<br>
producing:<br>
&nbsp;<br>
..&nbsp;sourcecode::&nbsp;sql<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;anon_1.address_id&nbsp;AS&nbsp;anon_1_address_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anon_1.address_email&nbsp;AS&nbsp;anon_1_address_email,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anon_1.address_user_id&nbsp;AS&nbsp;anon_1_address_user_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anon_1.user_id&nbsp;AS&nbsp;anon_1_user_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anon_1.user_name&nbsp;AS&nbsp;anon_1_user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;address.id&nbsp;AS&nbsp;address_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address.email&nbsp;AS&nbsp;address_email,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address.user_id&nbsp;AS&nbsp;address_user_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"user".id&nbsp;AS&nbsp;user_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"user".name&nbsp;AS&nbsp;user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;address&nbsp;JOIN&nbsp;"user"&nbsp;ON&nbsp;"user".id&nbsp;=&nbsp;address.user_id<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;"user".name&nbsp;LIKE&nbsp;:name_1)&nbsp;AS&nbsp;anon_1<br>
&nbsp;<br>
If&nbsp;we&nbsp;didn't&nbsp;call&nbsp;``<a href="#NoteQuery-add_entity">add_entity</a>(<a href="#User">User</a>)``,&nbsp;but&nbsp;still&nbsp;asked<br>
:func:`.contains_eager`&nbsp;to&nbsp;load&nbsp;the&nbsp;``<a href="#User">User</a>``&nbsp;entity,&nbsp;it&nbsp;would&nbsp;be<br>
forced&nbsp;to&nbsp;add&nbsp;the&nbsp;table&nbsp;on&nbsp;the&nbsp;outside&nbsp;without&nbsp;the&nbsp;correct<br>
join&nbsp;criteria&nbsp;-&nbsp;note&nbsp;the&nbsp;``anon1,&nbsp;"user"``&nbsp;phrase&nbsp;at<br>
the&nbsp;end:<br>
&nbsp;<br>
..&nbsp;sourcecode::&nbsp;sql<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;incorrect&nbsp;query<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;anon_1.address_id&nbsp;AS&nbsp;anon_1_address_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anon_1.address_email&nbsp;AS&nbsp;anon_1_address_email,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anon_1.address_user_id&nbsp;AS&nbsp;anon_1_address_user_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"user".id&nbsp;AS&nbsp;user_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"user".name&nbsp;AS&nbsp;user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;address.id&nbsp;AS&nbsp;address_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address.email&nbsp;AS&nbsp;address_email,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address.user_id&nbsp;AS&nbsp;address_user_id<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;address&nbsp;JOIN&nbsp;"user"&nbsp;ON&nbsp;"user".id&nbsp;=&nbsp;address.user_id<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;"user".name&nbsp;LIKE&nbsp;:name_1)&nbsp;AS&nbsp;anon_1,&nbsp;"user"<br>
&nbsp;<br>
:param&nbsp;\*entities:&nbsp;optional&nbsp;list&nbsp;of&nbsp;entities&nbsp;which&nbsp;will&nbsp;replace<br>
&nbsp;those&nbsp;being&nbsp;selected.</tt></dd></dl>

<dl><dt><a name="NoteQuery-from_statement"><strong>from_statement</strong></a>(self, statement)</dt><dd><tt>Execute&nbsp;the&nbsp;given&nbsp;SELECT&nbsp;statement&nbsp;and&nbsp;return&nbsp;results.<br>
&nbsp;<br>
This&nbsp;method&nbsp;bypasses&nbsp;all&nbsp;internal&nbsp;statement&nbsp;compilation,&nbsp;and&nbsp;the<br>
statement&nbsp;is&nbsp;executed&nbsp;without&nbsp;modification.<br>
&nbsp;<br>
The&nbsp;statement&nbsp;is&nbsp;typically&nbsp;either&nbsp;a&nbsp;:func:`~.expression.text`<br>
or&nbsp;:func:`~.expression.select`&nbsp;construct,&nbsp;and&nbsp;should&nbsp;return&nbsp;the&nbsp;set<br>
of&nbsp;columns<br>
appropriate&nbsp;to&nbsp;the&nbsp;entity&nbsp;class&nbsp;represented&nbsp;by&nbsp;this&nbsp;:class:`.Query`.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:ref:`orm_tutorial_literal_sql`&nbsp;-&nbsp;usage&nbsp;examples&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;ORM&nbsp;tutorial</tt></dd></dl>

<dl><dt><a name="NoteQuery-get"><strong>get</strong></a>(self, ident)</dt><dd><tt>Return&nbsp;an&nbsp;instance&nbsp;based&nbsp;on&nbsp;the&nbsp;given&nbsp;primary&nbsp;key&nbsp;identifier,<br>
or&nbsp;``None``&nbsp;if&nbsp;not&nbsp;found.<br>
&nbsp;<br>
E.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;my_user&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-get">get</a>(5)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;some_object&nbsp;=&nbsp;session.query(VersionedFoo).<a href="#NoteQuery-get">get</a>((5,&nbsp;10))<br>
&nbsp;<br>
:meth:`~.Query.get`&nbsp;is&nbsp;special&nbsp;in&nbsp;that&nbsp;it&nbsp;provides&nbsp;direct<br>
access&nbsp;to&nbsp;the&nbsp;identity&nbsp;map&nbsp;of&nbsp;the&nbsp;owning&nbsp;:class:`.Session`.<br>
If&nbsp;the&nbsp;given&nbsp;primary&nbsp;key&nbsp;identifier&nbsp;is&nbsp;present<br>
in&nbsp;the&nbsp;local&nbsp;identity&nbsp;map,&nbsp;the&nbsp;object&nbsp;is&nbsp;returned<br>
directly&nbsp;from&nbsp;this&nbsp;collection&nbsp;and&nbsp;no&nbsp;SQL&nbsp;is&nbsp;emitted,<br>
unless&nbsp;the&nbsp;object&nbsp;has&nbsp;been&nbsp;marked&nbsp;fully&nbsp;expired.<br>
If&nbsp;not&nbsp;present,<br>
a&nbsp;SELECT&nbsp;is&nbsp;performed&nbsp;in&nbsp;order&nbsp;to&nbsp;locate&nbsp;the&nbsp;object.<br>
&nbsp;<br>
:meth:`~.Query.get`&nbsp;also&nbsp;will&nbsp;perform&nbsp;a&nbsp;check&nbsp;if<br>
the&nbsp;object&nbsp;is&nbsp;present&nbsp;in&nbsp;the&nbsp;identity&nbsp;map&nbsp;and<br>
marked&nbsp;as&nbsp;expired&nbsp;-&nbsp;a&nbsp;SELECT<br>
is&nbsp;emitted&nbsp;to&nbsp;refresh&nbsp;the&nbsp;object&nbsp;as&nbsp;well&nbsp;as&nbsp;to<br>
ensure&nbsp;that&nbsp;the&nbsp;row&nbsp;is&nbsp;still&nbsp;present.<br>
If&nbsp;not,&nbsp;:class:`~sqlalchemy.orm.exc.ObjectDeletedError`&nbsp;is&nbsp;raised.<br>
&nbsp;<br>
:meth:`~.Query.get`&nbsp;is&nbsp;only&nbsp;used&nbsp;to&nbsp;return&nbsp;a&nbsp;single<br>
mapped&nbsp;instance,&nbsp;not&nbsp;multiple&nbsp;instances&nbsp;or<br>
individual&nbsp;column&nbsp;constructs,&nbsp;and&nbsp;strictly<br>
on&nbsp;a&nbsp;single&nbsp;primary&nbsp;key&nbsp;value.&nbsp;&nbsp;The&nbsp;originating<br>
:class:`.Query`&nbsp;must&nbsp;be&nbsp;constructed&nbsp;in&nbsp;this&nbsp;way,<br>
i.e.&nbsp;against&nbsp;a&nbsp;single&nbsp;mapped&nbsp;entity,<br>
with&nbsp;no&nbsp;additional&nbsp;filtering&nbsp;criterion.&nbsp;&nbsp;Loading<br>
options&nbsp;via&nbsp;:meth:`~.Query.options`&nbsp;may&nbsp;be&nbsp;applied<br>
however,&nbsp;and&nbsp;will&nbsp;be&nbsp;used&nbsp;if&nbsp;the&nbsp;object&nbsp;is&nbsp;not<br>
yet&nbsp;locally&nbsp;present.<br>
&nbsp;<br>
A&nbsp;lazy-loading,&nbsp;many-to-one&nbsp;attribute&nbsp;configured<br>
by&nbsp;:func:`.relationship`,&nbsp;using&nbsp;a&nbsp;simple<br>
foreign-key-to-primary-key&nbsp;criterion,&nbsp;will&nbsp;also&nbsp;use&nbsp;an<br>
operation&nbsp;equivalent&nbsp;to&nbsp;:meth:`~.Query.get`&nbsp;in&nbsp;order&nbsp;to&nbsp;retrieve<br>
the&nbsp;target&nbsp;value&nbsp;from&nbsp;the&nbsp;local&nbsp;identity&nbsp;map<br>
before&nbsp;querying&nbsp;the&nbsp;database.&nbsp;&nbsp;See&nbsp;:doc:`/orm/loading_relationships`<br>
for&nbsp;further&nbsp;details&nbsp;on&nbsp;relationship&nbsp;loading.<br>
&nbsp;<br>
:param&nbsp;ident:&nbsp;A&nbsp;scalar&nbsp;or&nbsp;tuple&nbsp;value&nbsp;representing<br>
&nbsp;the&nbsp;primary&nbsp;key.&nbsp;&nbsp;&nbsp;For&nbsp;a&nbsp;composite&nbsp;primary&nbsp;key,<br>
&nbsp;the&nbsp;order&nbsp;of&nbsp;identifiers&nbsp;corresponds&nbsp;in&nbsp;most&nbsp;cases<br>
&nbsp;to&nbsp;that&nbsp;of&nbsp;the&nbsp;mapped&nbsp;:class:`.Table`&nbsp;object's<br>
&nbsp;primary&nbsp;key&nbsp;columns.&nbsp;&nbsp;For&nbsp;a&nbsp;:func:`.mapper`&nbsp;that<br>
&nbsp;was&nbsp;given&nbsp;the&nbsp;``primary&nbsp;key``&nbsp;argument&nbsp;during<br>
&nbsp;construction,&nbsp;the&nbsp;order&nbsp;of&nbsp;identifiers&nbsp;corresponds<br>
&nbsp;to&nbsp;the&nbsp;elements&nbsp;present&nbsp;in&nbsp;this&nbsp;collection.<br>
&nbsp;<br>
:return:&nbsp;The&nbsp;object&nbsp;instance,&nbsp;or&nbsp;``None``.</tt></dd></dl>

<dl><dt><a name="NoteQuery-group_by"><strong>group_by</strong></a>(self, *criterion)</dt><dd><tt>apply&nbsp;one&nbsp;or&nbsp;more&nbsp;GROUP&nbsp;BY&nbsp;criterion&nbsp;to&nbsp;the&nbsp;query&nbsp;and&nbsp;return<br>
the&nbsp;newly&nbsp;resulting&nbsp;:class:`.Query`</tt></dd></dl>

<dl><dt><a name="NoteQuery-having"><strong>having</strong></a>(self, criterion)</dt><dd><tt>apply&nbsp;a&nbsp;HAVING&nbsp;criterion&nbsp;to&nbsp;the&nbsp;query&nbsp;and&nbsp;return&nbsp;the<br>
newly&nbsp;resulting&nbsp;:class:`.Query`.<br>
&nbsp;<br>
:meth:`~.Query.having`&nbsp;is&nbsp;used&nbsp;in&nbsp;conjunction&nbsp;with<br>
:meth:`~.Query.group_by`.<br>
&nbsp;<br>
HAVING&nbsp;criterion&nbsp;makes&nbsp;it&nbsp;possible&nbsp;to&nbsp;use&nbsp;filters&nbsp;on&nbsp;aggregate<br>
functions&nbsp;like&nbsp;COUNT,&nbsp;SUM,&nbsp;AVG,&nbsp;MAX,&nbsp;and&nbsp;MIN,&nbsp;eg.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>.id).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(<a href="#User">User</a>.addresses).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-group_by">group_by</a>(<a href="#User">User</a>.id).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-having">having</a>(func.<a href="#NoteQuery-count">count</a>(Address.id)&nbsp;&gt;&nbsp;2)</tt></dd></dl>

<dl><dt><a name="NoteQuery-instances"><strong>instances</strong></a>(self, cursor, _Query__context<font color="#909090">=None</font>)</dt><dd><tt>Given&nbsp;a&nbsp;ResultProxy&nbsp;cursor&nbsp;as&nbsp;returned&nbsp;by&nbsp;connection.execute(),<br>
return&nbsp;an&nbsp;ORM&nbsp;result&nbsp;as&nbsp;an&nbsp;iterator.<br>
&nbsp;<br>
e.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;engine.execute("select&nbsp;*&nbsp;from&nbsp;users")<br>
&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;u&nbsp;in&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-instances">instances</a>(result):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;u</tt></dd></dl>

<dl><dt><a name="NoteQuery-intersect"><strong>intersect</strong></a>(self, *q)</dt><dd><tt>Produce&nbsp;an&nbsp;INTERSECT&nbsp;of&nbsp;this&nbsp;Query&nbsp;against&nbsp;one&nbsp;or&nbsp;more&nbsp;queries.<br>
&nbsp;<br>
Works&nbsp;the&nbsp;same&nbsp;way&nbsp;as&nbsp;:meth:`~sqlalchemy.orm.query.Query.union`.&nbsp;See<br>
that&nbsp;method&nbsp;for&nbsp;usage&nbsp;examples.</tt></dd></dl>

<dl><dt><a name="NoteQuery-intersect_all"><strong>intersect_all</strong></a>(self, *q)</dt><dd><tt>Produce&nbsp;an&nbsp;INTERSECT&nbsp;ALL&nbsp;of&nbsp;this&nbsp;Query&nbsp;against&nbsp;one&nbsp;or&nbsp;more&nbsp;queries.<br>
&nbsp;<br>
Works&nbsp;the&nbsp;same&nbsp;way&nbsp;as&nbsp;:meth:`~sqlalchemy.orm.query.Query.union`.&nbsp;See<br>
that&nbsp;method&nbsp;for&nbsp;usage&nbsp;examples.</tt></dd></dl>

<dl><dt><a name="NoteQuery-join"><strong>join</strong></a>(self, *props, **kwargs)</dt><dd><tt>Create&nbsp;a&nbsp;SQL&nbsp;JOIN&nbsp;against&nbsp;this&nbsp;:class:`.Query`&nbsp;object's&nbsp;criterion<br>
and&nbsp;apply&nbsp;generatively,&nbsp;returning&nbsp;the&nbsp;newly&nbsp;resulting&nbsp;:class:`.Query`.<br>
&nbsp;<br>
**Simple&nbsp;Relationship&nbsp;Joins**<br>
&nbsp;<br>
Consider&nbsp;a&nbsp;mapping&nbsp;between&nbsp;two&nbsp;classes&nbsp;``<a href="#User">User</a>``&nbsp;and&nbsp;``Address``,<br>
with&nbsp;a&nbsp;relationship&nbsp;``<a href="#User">User</a>.addresses``&nbsp;representing&nbsp;a&nbsp;collection<br>
of&nbsp;``Address``&nbsp;objects&nbsp;associated&nbsp;with&nbsp;each&nbsp;``<a href="#User">User</a>``.&nbsp;&nbsp;&nbsp;The&nbsp;most<br>
common&nbsp;usage&nbsp;of&nbsp;:meth:`~.Query.join`&nbsp;is&nbsp;to&nbsp;create&nbsp;a&nbsp;JOIN&nbsp;along&nbsp;this<br>
relationship,&nbsp;using&nbsp;the&nbsp;``<a href="#User">User</a>.addresses``&nbsp;attribute&nbsp;as&nbsp;an&nbsp;indicator<br>
for&nbsp;how&nbsp;this&nbsp;should&nbsp;occur::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-join">join</a>(<a href="#User">User</a>.addresses)<br>
&nbsp;<br>
Where&nbsp;above,&nbsp;the&nbsp;call&nbsp;to&nbsp;:meth:`~.Query.join`&nbsp;along&nbsp;``<a href="#User">User</a>.addresses``<br>
will&nbsp;result&nbsp;in&nbsp;SQL&nbsp;equivalent&nbsp;to::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;user.*&nbsp;FROM&nbsp;user&nbsp;JOIN&nbsp;address&nbsp;ON&nbsp;user.id&nbsp;=&nbsp;address.user_id<br>
&nbsp;<br>
In&nbsp;the&nbsp;above&nbsp;example&nbsp;we&nbsp;refer&nbsp;to&nbsp;``<a href="#User">User</a>.addresses``&nbsp;as&nbsp;passed&nbsp;to<br>
:meth:`~.Query.join`&nbsp;as&nbsp;the&nbsp;*on&nbsp;clause*,&nbsp;that&nbsp;is,&nbsp;it&nbsp;indicates<br>
how&nbsp;the&nbsp;"ON"&nbsp;portion&nbsp;of&nbsp;the&nbsp;JOIN&nbsp;should&nbsp;be&nbsp;constructed.&nbsp;&nbsp;For&nbsp;a<br>
single-entity&nbsp;query&nbsp;such&nbsp;as&nbsp;the&nbsp;one&nbsp;above&nbsp;(i.e.&nbsp;we&nbsp;start&nbsp;by&nbsp;selecting<br>
only&nbsp;from&nbsp;``<a href="#User">User</a>``&nbsp;and&nbsp;nothing&nbsp;else),&nbsp;the&nbsp;relationship&nbsp;can&nbsp;also&nbsp;be<br>
specified&nbsp;by&nbsp;its&nbsp;string&nbsp;name::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-join">join</a>("addresses")<br>
&nbsp;<br>
:meth:`~.Query.join`&nbsp;can&nbsp;also&nbsp;accommodate&nbsp;multiple<br>
"on&nbsp;clause"&nbsp;arguments&nbsp;to&nbsp;produce&nbsp;a&nbsp;chain&nbsp;of&nbsp;joins,&nbsp;such&nbsp;as&nbsp;below<br>
where&nbsp;a&nbsp;join&nbsp;across&nbsp;four&nbsp;related&nbsp;entities&nbsp;is&nbsp;constructed::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-join">join</a>("orders",&nbsp;"items",&nbsp;"keywords")<br>
&nbsp;<br>
The&nbsp;above&nbsp;would&nbsp;be&nbsp;shorthand&nbsp;for&nbsp;three&nbsp;separate&nbsp;calls&nbsp;to<br>
:meth:`~.Query.join`,&nbsp;each&nbsp;using&nbsp;an&nbsp;explicit&nbsp;attribute&nbsp;to&nbsp;indicate<br>
the&nbsp;source&nbsp;entity::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(<a href="#User">User</a>.orders).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(Order.items).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(Item.keywords)<br>
&nbsp;<br>
**Joins&nbsp;to&nbsp;a&nbsp;Target&nbsp;Entity&nbsp;or&nbsp;Selectable**<br>
&nbsp;<br>
A&nbsp;second&nbsp;form&nbsp;of&nbsp;:meth:`~.Query.join`&nbsp;allows&nbsp;any&nbsp;mapped&nbsp;entity<br>
or&nbsp;core&nbsp;selectable&nbsp;construct&nbsp;as&nbsp;a&nbsp;target.&nbsp;&nbsp;&nbsp;In&nbsp;this&nbsp;usage,<br>
:meth:`~.Query.join`&nbsp;will&nbsp;attempt<br>
to&nbsp;create&nbsp;a&nbsp;JOIN&nbsp;along&nbsp;the&nbsp;natural&nbsp;foreign&nbsp;key&nbsp;relationship&nbsp;between<br>
two&nbsp;entities::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-join">join</a>(Address)<br>
&nbsp;<br>
The&nbsp;above&nbsp;calling&nbsp;form&nbsp;of&nbsp;:meth:`~.Query.join`&nbsp;will&nbsp;raise&nbsp;an&nbsp;error&nbsp;if<br>
either&nbsp;there&nbsp;are&nbsp;no&nbsp;foreign&nbsp;keys&nbsp;between&nbsp;the&nbsp;two&nbsp;entities,&nbsp;or&nbsp;if<br>
there&nbsp;are&nbsp;multiple&nbsp;foreign&nbsp;key&nbsp;linkages&nbsp;between&nbsp;them.&nbsp;&nbsp;&nbsp;In&nbsp;the<br>
above&nbsp;calling&nbsp;form,&nbsp;:meth:`~.Query.join`&nbsp;is&nbsp;called&nbsp;upon&nbsp;to<br>
create&nbsp;the&nbsp;"on&nbsp;clause"&nbsp;automatically&nbsp;for&nbsp;us.&nbsp;&nbsp;The&nbsp;target&nbsp;can<br>
be&nbsp;any&nbsp;mapped&nbsp;entity&nbsp;or&nbsp;selectable,&nbsp;such&nbsp;as&nbsp;a&nbsp;:class:`.Table`::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-join">join</a>(addresses_table)<br>
&nbsp;<br>
**Joins&nbsp;to&nbsp;a&nbsp;Target&nbsp;with&nbsp;an&nbsp;ON&nbsp;Clause**<br>
&nbsp;<br>
The&nbsp;third&nbsp;calling&nbsp;form&nbsp;allows&nbsp;both&nbsp;the&nbsp;target&nbsp;entity&nbsp;as&nbsp;well<br>
as&nbsp;the&nbsp;ON&nbsp;clause&nbsp;to&nbsp;be&nbsp;passed&nbsp;explicitly.&nbsp;&nbsp;&nbsp;Suppose&nbsp;for<br>
example&nbsp;we&nbsp;wanted&nbsp;to&nbsp;join&nbsp;to&nbsp;``Address``&nbsp;twice,&nbsp;using<br>
an&nbsp;alias&nbsp;the&nbsp;second&nbsp;time.&nbsp;&nbsp;We&nbsp;use&nbsp;:func:`~sqlalchemy.orm.aliased`<br>
to&nbsp;create&nbsp;a&nbsp;distinct&nbsp;alias&nbsp;of&nbsp;``Address``,&nbsp;and&nbsp;join<br>
to&nbsp;it&nbsp;using&nbsp;the&nbsp;``target,&nbsp;onclause``&nbsp;form,&nbsp;so&nbsp;that&nbsp;the<br>
alias&nbsp;can&nbsp;be&nbsp;specified&nbsp;explicitly&nbsp;as&nbsp;the&nbsp;target&nbsp;along&nbsp;with<br>
the&nbsp;relationship&nbsp;to&nbsp;instruct&nbsp;how&nbsp;the&nbsp;ON&nbsp;clause&nbsp;should&nbsp;proceed::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;a_alias&nbsp;=&nbsp;aliased(Address)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(<a href="#User">User</a>.addresses).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(a_alias,&nbsp;<a href="#User">User</a>.addresses).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(Address.email_address=='ed@foo.com').\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(a_alias.email_address=='ed@bar.com')<br>
&nbsp;<br>
Where&nbsp;above,&nbsp;the&nbsp;generated&nbsp;SQL&nbsp;would&nbsp;be&nbsp;similar&nbsp;to::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;user.*&nbsp;FROM&nbsp;user<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;address&nbsp;ON&nbsp;user.id&nbsp;=&nbsp;address.user_id<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;address&nbsp;AS&nbsp;address_1&nbsp;ON&nbsp;user.id=address_1.user_id<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;address.email_address&nbsp;=&nbsp;:email_address_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AND&nbsp;address_1.email_address&nbsp;=&nbsp;:email_address_2<br>
&nbsp;<br>
The&nbsp;two-argument&nbsp;calling&nbsp;form&nbsp;of&nbsp;:meth:`~.Query.join`<br>
also&nbsp;allows&nbsp;us&nbsp;to&nbsp;construct&nbsp;arbitrary&nbsp;joins&nbsp;with&nbsp;SQL-oriented<br>
"on&nbsp;clause"&nbsp;expressions,&nbsp;not&nbsp;relying&nbsp;upon&nbsp;configured&nbsp;relationships<br>
at&nbsp;all.&nbsp;&nbsp;Any&nbsp;SQL&nbsp;expression&nbsp;can&nbsp;be&nbsp;passed&nbsp;as&nbsp;the&nbsp;ON&nbsp;clause<br>
when&nbsp;using&nbsp;the&nbsp;two-argument&nbsp;form,&nbsp;which&nbsp;should&nbsp;refer&nbsp;to&nbsp;the&nbsp;target<br>
entity&nbsp;in&nbsp;some&nbsp;way&nbsp;as&nbsp;well&nbsp;as&nbsp;an&nbsp;applicable&nbsp;source&nbsp;entity::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-join">join</a>(Address,&nbsp;<a href="#User">User</a>.id==Address.user_id)<br>
&nbsp;<br>
..&nbsp;versionchanged::&nbsp;0.7<br>
&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;SQLAlchemy&nbsp;0.6&nbsp;and&nbsp;earlier,&nbsp;the&nbsp;two&nbsp;argument&nbsp;form&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`~.Query.join`&nbsp;requires&nbsp;the&nbsp;usage&nbsp;of&nbsp;a&nbsp;tuple:<br>
&nbsp;&nbsp;&nbsp;&nbsp;``query(<a href="#User">User</a>).<a href="#NoteQuery-join">join</a>((Address,&nbsp;<a href="#User">User</a>.id==Address.user_id))``\&nbsp;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;calling&nbsp;form&nbsp;is&nbsp;accepted&nbsp;in&nbsp;0.7&nbsp;and&nbsp;further,&nbsp;though<br>
&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;not&nbsp;necessary&nbsp;unless&nbsp;multiple&nbsp;join&nbsp;conditions&nbsp;are&nbsp;passed&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;single&nbsp;:meth:`~.Query.join`&nbsp;call,&nbsp;which&nbsp;itself&nbsp;is&nbsp;also&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;generally&nbsp;necessary&nbsp;as&nbsp;it&nbsp;is&nbsp;now&nbsp;equivalent&nbsp;to&nbsp;multiple<br>
&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;(this&nbsp;wasn't&nbsp;always&nbsp;the&nbsp;case).<br>
&nbsp;<br>
**Advanced&nbsp;Join&nbsp;Targeting&nbsp;and&nbsp;Adaption**<br>
&nbsp;<br>
There&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;flexibility&nbsp;in&nbsp;what&nbsp;the&nbsp;"target"&nbsp;can&nbsp;be&nbsp;when&nbsp;using<br>
:meth:`~.Query.join`.&nbsp;&nbsp;&nbsp;As&nbsp;noted&nbsp;previously,&nbsp;it&nbsp;also&nbsp;accepts<br>
:class:`.Table`&nbsp;constructs&nbsp;and&nbsp;other&nbsp;selectables&nbsp;such&nbsp;as<br>
:func:`.alias`&nbsp;and&nbsp;:func:`.select`&nbsp;constructs,&nbsp;with&nbsp;either&nbsp;the&nbsp;one<br>
or&nbsp;two-argument&nbsp;forms::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;addresses_q&nbsp;=&nbsp;select([Address.user_id]).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where(Address.email_address.endswith("@bar.com")).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alias()<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(addresses_q,&nbsp;addresses_q.c.user_id==<a href="#User">User</a>.id)<br>
&nbsp;<br>
:meth:`~.Query.join`&nbsp;also&nbsp;features&nbsp;the&nbsp;ability&nbsp;to&nbsp;*adapt*&nbsp;a<br>
:meth:`~sqlalchemy.orm.relationship`&nbsp;-driven&nbsp;ON&nbsp;clause&nbsp;to&nbsp;the&nbsp;target<br>
selectable.&nbsp;Below&nbsp;we&nbsp;construct&nbsp;a&nbsp;JOIN&nbsp;from&nbsp;``<a href="#User">User</a>``&nbsp;to&nbsp;a&nbsp;subquery<br>
against&nbsp;``Address``,&nbsp;allowing&nbsp;the&nbsp;relationship&nbsp;denoted&nbsp;by<br>
``<a href="#User">User</a>.addresses``&nbsp;to&nbsp;*adapt*&nbsp;itself&nbsp;to&nbsp;the&nbsp;altered&nbsp;target::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;address_subq&nbsp;=&nbsp;session.query(Address).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(Address.email_address&nbsp;==&nbsp;'ed@foo.com').\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-subquery">subquery</a>()<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).<a href="#NoteQuery-join">join</a>(address_subq,&nbsp;<a href="#User">User</a>.addresses)<br>
&nbsp;<br>
Producing&nbsp;SQL&nbsp;similar&nbsp;to::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;user.*&nbsp;FROM&nbsp;user<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;address.id&nbsp;AS&nbsp;id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address.user_id&nbsp;AS&nbsp;user_id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;address.email_address&nbsp;AS&nbsp;email_address<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;address<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;address.email_address&nbsp;=&nbsp;:email_address_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;AS&nbsp;anon_1&nbsp;ON&nbsp;user.id&nbsp;=&nbsp;anon_1.user_id<br>
&nbsp;<br>
The&nbsp;above&nbsp;form&nbsp;allows&nbsp;one&nbsp;to&nbsp;fall&nbsp;back&nbsp;onto&nbsp;an&nbsp;explicit&nbsp;ON<br>
clause&nbsp;at&nbsp;any&nbsp;time::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(address_subq,&nbsp;<a href="#User">User</a>.id==address_subq.c.user_id)<br>
&nbsp;<br>
**Controlling&nbsp;what&nbsp;to&nbsp;Join&nbsp;From**<br>
&nbsp;<br>
While&nbsp;:meth:`~.Query.join`&nbsp;exclusively&nbsp;deals&nbsp;with&nbsp;the&nbsp;"right"<br>
side&nbsp;of&nbsp;the&nbsp;JOIN,&nbsp;we&nbsp;can&nbsp;also&nbsp;control&nbsp;the&nbsp;"left"&nbsp;side,&nbsp;in&nbsp;those<br>
cases&nbsp;where&nbsp;it's&nbsp;needed,&nbsp;using&nbsp;:meth:`~.Query.select_from`.<br>
Below&nbsp;we&nbsp;construct&nbsp;a&nbsp;query&nbsp;against&nbsp;``Address``&nbsp;but&nbsp;can&nbsp;still<br>
make&nbsp;usage&nbsp;of&nbsp;``<a href="#User">User</a>.addresses``&nbsp;as&nbsp;our&nbsp;ON&nbsp;clause&nbsp;by&nbsp;instructing<br>
the&nbsp;:class:`.Query`&nbsp;to&nbsp;select&nbsp;first&nbsp;from&nbsp;the&nbsp;``<a href="#User">User</a>``<br>
entity::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(Address).<a href="#NoteQuery-select_from">select_from</a>(<a href="#User">User</a>).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(<a href="#User">User</a>.addresses).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name&nbsp;==&nbsp;'ed')<br>
&nbsp;<br>
Which&nbsp;will&nbsp;produce&nbsp;SQL&nbsp;similar&nbsp;to::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;address.*&nbsp;FROM&nbsp;user<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;address&nbsp;ON&nbsp;user.id=address.user_id<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;user.name&nbsp;=&nbsp;:name_1<br>
&nbsp;<br>
**Constructing&nbsp;Aliases&nbsp;Anonymously**<br>
&nbsp;<br>
:meth:`~.Query.join`&nbsp;can&nbsp;construct&nbsp;anonymous&nbsp;aliases<br>
using&nbsp;the&nbsp;``aliased=True``&nbsp;flag.&nbsp;&nbsp;This&nbsp;feature&nbsp;is&nbsp;useful<br>
when&nbsp;a&nbsp;query&nbsp;is&nbsp;being&nbsp;joined&nbsp;algorithmically,&nbsp;such&nbsp;as<br>
when&nbsp;querying&nbsp;self-referentially&nbsp;to&nbsp;an&nbsp;arbitrary&nbsp;depth::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(Node).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>("children",&nbsp;"children",&nbsp;aliased=True)<br>
&nbsp;<br>
When&nbsp;``aliased=True``&nbsp;is&nbsp;used,&nbsp;the&nbsp;actual&nbsp;"alias"&nbsp;construct<br>
is&nbsp;not&nbsp;explicitly&nbsp;available.&nbsp;&nbsp;To&nbsp;work&nbsp;with&nbsp;it,&nbsp;methods&nbsp;such&nbsp;as<br>
:meth:`.Query.filter`&nbsp;will&nbsp;adapt&nbsp;the&nbsp;incoming&nbsp;entity&nbsp;to<br>
the&nbsp;last&nbsp;join&nbsp;point::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(Node).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>("children",&nbsp;"children",&nbsp;aliased=True).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(Node.name&nbsp;==&nbsp;'grandchild&nbsp;1')<br>
&nbsp;<br>
When&nbsp;using&nbsp;automatic&nbsp;aliasing,&nbsp;the&nbsp;``from_joinpoint=True``<br>
argument&nbsp;can&nbsp;allow&nbsp;a&nbsp;multi-node&nbsp;join&nbsp;to&nbsp;be&nbsp;broken&nbsp;into<br>
multiple&nbsp;calls&nbsp;to&nbsp;:meth:`~.Query.join`,&nbsp;so&nbsp;that<br>
each&nbsp;path&nbsp;along&nbsp;the&nbsp;way&nbsp;can&nbsp;be&nbsp;further&nbsp;filtered::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(Node).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>("children",&nbsp;aliased=True).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(Node.name='child&nbsp;1').\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>("children",&nbsp;aliased=True,&nbsp;from_joinpoint=True).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(Node.name&nbsp;==&nbsp;'grandchild&nbsp;1')<br>
&nbsp;<br>
The&nbsp;filtering&nbsp;aliases&nbsp;above&nbsp;can&nbsp;then&nbsp;be&nbsp;reset&nbsp;back&nbsp;to&nbsp;the<br>
original&nbsp;``Node``&nbsp;entity&nbsp;using&nbsp;:meth:`~.Query.reset_joinpoint`::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(Node).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>("children",&nbsp;"children",&nbsp;aliased=True).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(Node.name&nbsp;==&nbsp;'grandchild&nbsp;1').\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-reset_joinpoint">reset_joinpoint</a>().\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(Node.name&nbsp;==&nbsp;'parent&nbsp;1)<br>
&nbsp;<br>
For&nbsp;an&nbsp;example&nbsp;of&nbsp;``aliased=True``,&nbsp;see&nbsp;the&nbsp;distribution<br>
example&nbsp;:ref:`examples_xmlpersistence`&nbsp;which&nbsp;illustrates<br>
an&nbsp;XPath-like&nbsp;query&nbsp;system&nbsp;using&nbsp;algorithmic&nbsp;joins.<br>
&nbsp;<br>
:param&nbsp;\*props:&nbsp;A&nbsp;collection&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;join&nbsp;conditions,<br>
&nbsp;each&nbsp;consisting&nbsp;of&nbsp;a&nbsp;relationship-bound&nbsp;attribute&nbsp;or&nbsp;string<br>
&nbsp;relationship&nbsp;name&nbsp;representing&nbsp;an&nbsp;"on&nbsp;clause",&nbsp;or&nbsp;a&nbsp;single<br>
&nbsp;target&nbsp;entity,&nbsp;or&nbsp;a&nbsp;tuple&nbsp;in&nbsp;the&nbsp;form&nbsp;of&nbsp;``(target,&nbsp;onclause)``.<br>
&nbsp;A&nbsp;special&nbsp;two-argument&nbsp;calling&nbsp;form&nbsp;of&nbsp;the&nbsp;form&nbsp;``target,&nbsp;onclause``<br>
&nbsp;is&nbsp;also&nbsp;accepted.<br>
:param&nbsp;aliased=False:&nbsp;If&nbsp;True,&nbsp;indicate&nbsp;that&nbsp;the&nbsp;JOIN&nbsp;target&nbsp;should&nbsp;be<br>
&nbsp;anonymously&nbsp;aliased.&nbsp;&nbsp;Subsequent&nbsp;calls&nbsp;to&nbsp;:meth:`~.Query.filter`<br>
&nbsp;and&nbsp;similar&nbsp;will&nbsp;adapt&nbsp;the&nbsp;incoming&nbsp;criterion&nbsp;to&nbsp;the&nbsp;target<br>
&nbsp;alias,&nbsp;until&nbsp;:meth:`~.Query.reset_joinpoint`&nbsp;is&nbsp;called.<br>
:param&nbsp;isouter=False:&nbsp;If&nbsp;True,&nbsp;the&nbsp;join&nbsp;used&nbsp;will&nbsp;be&nbsp;a&nbsp;left&nbsp;outer&nbsp;join,<br>
&nbsp;just&nbsp;as&nbsp;if&nbsp;the&nbsp;:meth:`.Query.outerjoin`&nbsp;method&nbsp;were&nbsp;called.&nbsp;&nbsp;This<br>
&nbsp;flag&nbsp;is&nbsp;here&nbsp;to&nbsp;maintain&nbsp;consistency&nbsp;with&nbsp;the&nbsp;same&nbsp;flag&nbsp;as&nbsp;accepted<br>
&nbsp;by&nbsp;:meth:`.FromClause.join`&nbsp;and&nbsp;other&nbsp;Core&nbsp;constructs.<br>
&nbsp;<br>
&nbsp;<br>
&nbsp;..&nbsp;versionadded::&nbsp;1.0.0<br>
&nbsp;<br>
:param&nbsp;from_joinpoint=False:&nbsp;When&nbsp;using&nbsp;``aliased=True``,&nbsp;a&nbsp;setting<br>
&nbsp;of&nbsp;True&nbsp;here&nbsp;will&nbsp;cause&nbsp;the&nbsp;join&nbsp;to&nbsp;be&nbsp;from&nbsp;the&nbsp;most&nbsp;recent<br>
&nbsp;joined&nbsp;target,&nbsp;rather&nbsp;than&nbsp;starting&nbsp;back&nbsp;from&nbsp;the&nbsp;original<br>
&nbsp;FROM&nbsp;clauses&nbsp;of&nbsp;the&nbsp;query.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:ref:`ormtutorial_joins`&nbsp;in&nbsp;the&nbsp;ORM&nbsp;tutorial.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:ref:`inheritance_toplevel`&nbsp;for&nbsp;details&nbsp;on&nbsp;how<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`~.Query.join`&nbsp;is&nbsp;used&nbsp;for&nbsp;inheritance&nbsp;relationships.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:func:`.orm.join`&nbsp;-&nbsp;a&nbsp;standalone&nbsp;ORM-level&nbsp;join&nbsp;function,<br>
&nbsp;&nbsp;&nbsp;&nbsp;used&nbsp;internally&nbsp;by&nbsp;:meth:`.Query.join`,&nbsp;which&nbsp;in&nbsp;previous<br>
&nbsp;&nbsp;&nbsp;&nbsp;SQLAlchemy&nbsp;versions&nbsp;was&nbsp;the&nbsp;primary&nbsp;ORM-level&nbsp;joining&nbsp;interface.</tt></dd></dl>

<dl><dt><a name="NoteQuery-label"><strong>label</strong></a>(self, name)</dt><dd><tt>Return&nbsp;the&nbsp;full&nbsp;SELECT&nbsp;statement&nbsp;represented&nbsp;by&nbsp;this<br>
:class:`.Query`,&nbsp;converted<br>
to&nbsp;a&nbsp;scalar&nbsp;subquery&nbsp;with&nbsp;a&nbsp;label&nbsp;of&nbsp;the&nbsp;given&nbsp;name.<br>
&nbsp;<br>
Analogous&nbsp;to&nbsp;:meth:`sqlalchemy.sql.expression.SelectBase.label`.<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;0.6.5</tt></dd></dl>

<dl><dt><a name="NoteQuery-limit"><strong>limit</strong></a>(self, limit)</dt><dd><tt>Apply&nbsp;a&nbsp;``LIMIT``&nbsp;to&nbsp;the&nbsp;query&nbsp;and&nbsp;return&nbsp;the&nbsp;newly&nbsp;resulting<br>
&nbsp;<br>
``Query``.</tt></dd></dl>

<dl><dt><a name="NoteQuery-merge_result"><strong>merge_result</strong></a>(self, iterator, load<font color="#909090">=True</font>)</dt><dd><tt>Merge&nbsp;a&nbsp;result&nbsp;into&nbsp;this&nbsp;:class:`.Query`&nbsp;object's&nbsp;Session.<br>
&nbsp;<br>
Given&nbsp;an&nbsp;iterator&nbsp;returned&nbsp;by&nbsp;a&nbsp;:class:`.Query`&nbsp;of&nbsp;the&nbsp;same&nbsp;structure<br>
as&nbsp;this&nbsp;one,&nbsp;return&nbsp;an&nbsp;identical&nbsp;iterator&nbsp;of&nbsp;results,&nbsp;with&nbsp;all&nbsp;mapped<br>
instances&nbsp;merged&nbsp;into&nbsp;the&nbsp;session&nbsp;using&nbsp;:meth:`.Session.merge`.&nbsp;This<br>
is&nbsp;an&nbsp;optimized&nbsp;method&nbsp;which&nbsp;will&nbsp;merge&nbsp;all&nbsp;mapped&nbsp;instances,<br>
preserving&nbsp;the&nbsp;structure&nbsp;of&nbsp;the&nbsp;result&nbsp;rows&nbsp;and&nbsp;unmapped&nbsp;columns&nbsp;with<br>
less&nbsp;method&nbsp;overhead&nbsp;than&nbsp;that&nbsp;of&nbsp;calling&nbsp;:meth:`.Session.merge`<br>
explicitly&nbsp;for&nbsp;each&nbsp;value.<br>
&nbsp;<br>
The&nbsp;structure&nbsp;of&nbsp;the&nbsp;results&nbsp;is&nbsp;determined&nbsp;based&nbsp;on&nbsp;the&nbsp;column&nbsp;list&nbsp;of<br>
this&nbsp;:class:`.Query`&nbsp;-&nbsp;if&nbsp;these&nbsp;do&nbsp;not&nbsp;correspond,&nbsp;unchecked&nbsp;errors<br>
will&nbsp;occur.<br>
&nbsp;<br>
The&nbsp;'load'&nbsp;argument&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;that&nbsp;of&nbsp;:meth:`.Session.merge`.<br>
&nbsp;<br>
For&nbsp;an&nbsp;example&nbsp;of&nbsp;how&nbsp;:meth:`~.Query.merge_result`&nbsp;is&nbsp;used,&nbsp;see<br>
the&nbsp;source&nbsp;code&nbsp;for&nbsp;the&nbsp;example&nbsp;:ref:`examples_caching`,&nbsp;where<br>
:meth:`~.Query.merge_result`&nbsp;is&nbsp;used&nbsp;to&nbsp;efficiently&nbsp;restore&nbsp;state<br>
from&nbsp;a&nbsp;cache&nbsp;back&nbsp;into&nbsp;a&nbsp;target&nbsp;:class:`.Session`.</tt></dd></dl>

<dl><dt><a name="NoteQuery-offset"><strong>offset</strong></a>(self, offset)</dt><dd><tt>Apply&nbsp;an&nbsp;``OFFSET``&nbsp;to&nbsp;the&nbsp;query&nbsp;and&nbsp;return&nbsp;the&nbsp;newly&nbsp;resulting<br>
``Query``.</tt></dd></dl>

<dl><dt><a name="NoteQuery-one"><strong>one</strong></a>(self)</dt><dd><tt>Return&nbsp;exactly&nbsp;one&nbsp;result&nbsp;or&nbsp;raise&nbsp;an&nbsp;exception.<br>
&nbsp;<br>
Raises&nbsp;``sqlalchemy.orm.exc.NoResultFound``&nbsp;if&nbsp;the&nbsp;query&nbsp;selects<br>
no&nbsp;rows.&nbsp;&nbsp;Raises&nbsp;``sqlalchemy.orm.exc.MultipleResultsFound``<br>
if&nbsp;multiple&nbsp;object&nbsp;identities&nbsp;are&nbsp;returned,&nbsp;or&nbsp;if&nbsp;multiple<br>
rows&nbsp;are&nbsp;returned&nbsp;for&nbsp;a&nbsp;query&nbsp;that&nbsp;returns&nbsp;only&nbsp;scalar&nbsp;values<br>
as&nbsp;opposed&nbsp;to&nbsp;full&nbsp;identity-mapped&nbsp;entities.<br>
&nbsp;<br>
Calling&nbsp;:meth:`.one`&nbsp;results&nbsp;in&nbsp;an&nbsp;execution&nbsp;of&nbsp;the&nbsp;underlying&nbsp;query.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.first`<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.one_or_none`</tt></dd></dl>

<dl><dt><a name="NoteQuery-one_or_none"><strong>one_or_none</strong></a>(self)</dt><dd><tt>Return&nbsp;at&nbsp;most&nbsp;one&nbsp;result&nbsp;or&nbsp;raise&nbsp;an&nbsp;exception.<br>
&nbsp;<br>
Returns&nbsp;``None``&nbsp;if&nbsp;the&nbsp;query&nbsp;selects<br>
no&nbsp;rows.&nbsp;&nbsp;Raises&nbsp;``sqlalchemy.orm.exc.MultipleResultsFound``<br>
if&nbsp;multiple&nbsp;object&nbsp;identities&nbsp;are&nbsp;returned,&nbsp;or&nbsp;if&nbsp;multiple<br>
rows&nbsp;are&nbsp;returned&nbsp;for&nbsp;a&nbsp;query&nbsp;that&nbsp;returns&nbsp;only&nbsp;scalar&nbsp;values<br>
as&nbsp;opposed&nbsp;to&nbsp;full&nbsp;identity-mapped&nbsp;entities.<br>
&nbsp;<br>
Calling&nbsp;:meth:`.Query.one_or_none`&nbsp;results&nbsp;in&nbsp;an&nbsp;execution&nbsp;of&nbsp;the&nbsp;underlying<br>
query.<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;1.0.9<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Added&nbsp;:meth:`.Query.one_or_none`<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.first`<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.one`</tt></dd></dl>

<dl><dt><a name="NoteQuery-options"><strong>options</strong></a>(self, *args)</dt><dd><tt>Return&nbsp;a&nbsp;new&nbsp;Query&nbsp;object,&nbsp;applying&nbsp;the&nbsp;given&nbsp;list&nbsp;of<br>
mapper&nbsp;options.<br>
&nbsp;<br>
Most&nbsp;supplied&nbsp;options&nbsp;regard&nbsp;changing&nbsp;how&nbsp;column-&nbsp;and<br>
relationship-mapped&nbsp;attributes&nbsp;are&nbsp;loaded.&nbsp;See&nbsp;the&nbsp;sections<br>
:ref:`deferred`&nbsp;and&nbsp;:doc:`/orm/loading_relationships`&nbsp;for&nbsp;reference<br>
documentation.</tt></dd></dl>

<dl><dt><a name="NoteQuery-order_by"><strong>order_by</strong></a>(self, *criterion)</dt><dd><tt>apply&nbsp;one&nbsp;or&nbsp;more&nbsp;ORDER&nbsp;BY&nbsp;criterion&nbsp;to&nbsp;the&nbsp;query&nbsp;and&nbsp;return<br>
the&nbsp;newly&nbsp;resulting&nbsp;``Query``<br>
&nbsp;<br>
All&nbsp;existing&nbsp;ORDER&nbsp;BY&nbsp;settings&nbsp;can&nbsp;be&nbsp;suppressed&nbsp;by<br>
passing&nbsp;``None``&nbsp;-&nbsp;this&nbsp;will&nbsp;suppress&nbsp;any&nbsp;ORDER&nbsp;BY&nbsp;configured<br>
on&nbsp;mappers&nbsp;as&nbsp;well.<br>
&nbsp;<br>
Alternatively,&nbsp;an&nbsp;existing&nbsp;ORDER&nbsp;BY&nbsp;setting&nbsp;on&nbsp;the&nbsp;Query<br>
object&nbsp;can&nbsp;be&nbsp;entirely&nbsp;cancelled&nbsp;by&nbsp;passing&nbsp;``False``<br>
as&nbsp;the&nbsp;value&nbsp;-&nbsp;use&nbsp;this&nbsp;before&nbsp;calling&nbsp;methods&nbsp;where<br>
an&nbsp;ORDER&nbsp;BY&nbsp;is&nbsp;invalid.</tt></dd></dl>

<dl><dt><a name="NoteQuery-outerjoin"><strong>outerjoin</strong></a>(self, *props, **kwargs)</dt><dd><tt>Create&nbsp;a&nbsp;left&nbsp;outer&nbsp;join&nbsp;against&nbsp;this&nbsp;``Query``&nbsp;object's&nbsp;criterion<br>
and&nbsp;apply&nbsp;generatively,&nbsp;returning&nbsp;the&nbsp;newly&nbsp;resulting&nbsp;``Query``.<br>
&nbsp;<br>
Usage&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;``<a href="#NoteQuery-join">join</a>()``&nbsp;method.</tt></dd></dl>

<dl><dt><a name="NoteQuery-params"><strong>params</strong></a>(self, *args, **kwargs)</dt><dd><tt>add&nbsp;values&nbsp;for&nbsp;bind&nbsp;parameters&nbsp;which&nbsp;may&nbsp;have&nbsp;been<br>
specified&nbsp;in&nbsp;<a href="#NoteQuery-filter">filter</a>().<br>
&nbsp;<br>
parameters&nbsp;may&nbsp;be&nbsp;specified&nbsp;using&nbsp;\**kwargs,&nbsp;or&nbsp;optionally&nbsp;a&nbsp;single<br>
dictionary&nbsp;as&nbsp;the&nbsp;first&nbsp;positional&nbsp;argument.&nbsp;The&nbsp;reason&nbsp;for&nbsp;both&nbsp;is<br>
that&nbsp;\**kwargs&nbsp;is&nbsp;convenient,&nbsp;however&nbsp;some&nbsp;parameter&nbsp;dictionaries<br>
contain&nbsp;unicode&nbsp;keys&nbsp;in&nbsp;which&nbsp;case&nbsp;\**kwargs&nbsp;cannot&nbsp;be&nbsp;used.</tt></dd></dl>

<dl><dt><a name="NoteQuery-populate_existing"><strong>populate_existing</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;:class:`.Query`&nbsp;that&nbsp;will&nbsp;expire&nbsp;and&nbsp;refresh&nbsp;all&nbsp;instances<br>
as&nbsp;they&nbsp;are&nbsp;loaded,&nbsp;or&nbsp;reused&nbsp;from&nbsp;the&nbsp;current&nbsp;:class:`.Session`.<br>
&nbsp;<br>
:meth:`.populate_existing`&nbsp;does&nbsp;not&nbsp;improve&nbsp;behavior&nbsp;when<br>
the&nbsp;ORM&nbsp;is&nbsp;used&nbsp;normally&nbsp;-&nbsp;the&nbsp;:class:`.Session`&nbsp;object's&nbsp;usual<br>
behavior&nbsp;of&nbsp;maintaining&nbsp;a&nbsp;transaction&nbsp;and&nbsp;expiring&nbsp;all&nbsp;attributes<br>
after&nbsp;rollback&nbsp;or&nbsp;commit&nbsp;handles&nbsp;object&nbsp;state&nbsp;automatically.<br>
This&nbsp;method&nbsp;is&nbsp;not&nbsp;intended&nbsp;for&nbsp;general&nbsp;use.</tt></dd></dl>

<dl><dt><a name="NoteQuery-prefix_with"><strong>prefix_with</strong></a>(self, *prefixes)</dt><dd><tt>Apply&nbsp;the&nbsp;prefixes&nbsp;to&nbsp;the&nbsp;query&nbsp;and&nbsp;return&nbsp;the&nbsp;newly&nbsp;resulting<br>
``Query``.<br>
&nbsp;<br>
:param&nbsp;\*prefixes:&nbsp;optional&nbsp;prefixes,&nbsp;typically&nbsp;strings,<br>
&nbsp;not&nbsp;using&nbsp;any&nbsp;commas.&nbsp;&nbsp;&nbsp;In&nbsp;particular&nbsp;is&nbsp;useful&nbsp;for&nbsp;MySQL&nbsp;keywords.<br>
&nbsp;<br>
e.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;sess.query(<a href="#User">User</a>.name).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-prefix_with">prefix_with</a>('HIGH_PRIORITY').\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-prefix_with">prefix_with</a>('SQL_SMALL_RESULT',&nbsp;'ALL')<br>
&nbsp;<br>
Would&nbsp;render::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;HIGH_PRIORITY&nbsp;SQL_SMALL_RESULT&nbsp;ALL&nbsp;users.name&nbsp;AS&nbsp;users_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;users<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;0.7.7<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.HasPrefixes.prefix_with`</tt></dd></dl>

<dl><dt><a name="NoteQuery-reset_joinpoint"><strong>reset_joinpoint</strong></a>(self)</dt><dd><tt>Return&nbsp;a&nbsp;new&nbsp;:class:`.Query`,&nbsp;where&nbsp;the&nbsp;"join&nbsp;point"&nbsp;has<br>
been&nbsp;reset&nbsp;back&nbsp;to&nbsp;the&nbsp;base&nbsp;FROM&nbsp;entities&nbsp;of&nbsp;the&nbsp;query.<br>
&nbsp;<br>
This&nbsp;method&nbsp;is&nbsp;usually&nbsp;used&nbsp;in&nbsp;conjunction&nbsp;with&nbsp;the<br>
``aliased=True``&nbsp;feature&nbsp;of&nbsp;the&nbsp;:meth:`~.Query.join`<br>
method.&nbsp;&nbsp;See&nbsp;the&nbsp;example&nbsp;in&nbsp;:meth:`~.Query.join`&nbsp;for&nbsp;how<br>
this&nbsp;is&nbsp;used.</tt></dd></dl>

<dl><dt><a name="NoteQuery-scalar"><strong>scalar</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;the&nbsp;first&nbsp;result&nbsp;or&nbsp;None<br>
if&nbsp;no&nbsp;rows&nbsp;present.&nbsp;&nbsp;If&nbsp;multiple&nbsp;rows&nbsp;are&nbsp;returned,<br>
raises&nbsp;MultipleResultsFound.<br>
&nbsp;<br>
&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;session.query(Item).<a href="#NoteQuery-scalar">scalar</a>()<br>
&nbsp;&nbsp;&lt;Item&gt;<br>
&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;session.query(Item.id).<a href="#NoteQuery-scalar">scalar</a>()<br>
&nbsp;&nbsp;1<br>
&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;session.query(Item.id).<a href="#NoteQuery-filter">filter</a>(Item.id&nbsp;&lt;&nbsp;0).<a href="#NoteQuery-scalar">scalar</a>()<br>
&nbsp;&nbsp;None<br>
&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;session.query(Item.id,&nbsp;Item.name).<a href="#NoteQuery-scalar">scalar</a>()<br>
&nbsp;&nbsp;1<br>
&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;session.query(func.<a href="#NoteQuery-count">count</a>(Parent.id)).<a href="#NoteQuery-scalar">scalar</a>()<br>
&nbsp;&nbsp;20<br>
&nbsp;<br>
This&nbsp;results&nbsp;in&nbsp;an&nbsp;execution&nbsp;of&nbsp;the&nbsp;underlying&nbsp;query.</tt></dd></dl>

<dl><dt><a name="NoteQuery-select_entity_from"><strong>select_entity_from</strong></a>(self, from_obj)</dt><dd><tt>Set&nbsp;the&nbsp;FROM&nbsp;clause&nbsp;of&nbsp;this&nbsp;:class:`.Query`&nbsp;to&nbsp;a<br>
core&nbsp;selectable,&nbsp;applying&nbsp;it&nbsp;as&nbsp;a&nbsp;replacement&nbsp;FROM&nbsp;clause<br>
for&nbsp;corresponding&nbsp;mapped&nbsp;entities.<br>
&nbsp;<br>
This&nbsp;method&nbsp;is&nbsp;similar&nbsp;to&nbsp;the&nbsp;:meth:`.Query.select_from`<br>
method,&nbsp;in&nbsp;that&nbsp;it&nbsp;sets&nbsp;the&nbsp;FROM&nbsp;clause&nbsp;of&nbsp;the&nbsp;query.&nbsp;&nbsp;However,<br>
where&nbsp;:meth:`.Query.select_from`&nbsp;only&nbsp;affects&nbsp;what&nbsp;is&nbsp;placed<br>
in&nbsp;the&nbsp;FROM,&nbsp;this&nbsp;method&nbsp;also&nbsp;applies&nbsp;the&nbsp;given&nbsp;selectable<br>
to&nbsp;replace&nbsp;the&nbsp;FROM&nbsp;which&nbsp;the&nbsp;selected&nbsp;entities&nbsp;would&nbsp;normally<br>
select&nbsp;from.<br>
&nbsp;<br>
The&nbsp;given&nbsp;``from_obj``&nbsp;must&nbsp;be&nbsp;an&nbsp;instance&nbsp;of&nbsp;a&nbsp;:class:`.FromClause`,<br>
e.g.&nbsp;a&nbsp;:func:`.select`&nbsp;or&nbsp;:class:`.Alias`&nbsp;construct.<br>
&nbsp;<br>
An&nbsp;example&nbsp;would&nbsp;be&nbsp;a&nbsp;:class:`.Query`&nbsp;that&nbsp;selects&nbsp;``<a href="#User">User</a>``&nbsp;entities,<br>
but&nbsp;uses&nbsp;:meth:`.Query.select_entity_from`&nbsp;to&nbsp;have&nbsp;the&nbsp;entities<br>
selected&nbsp;from&nbsp;a&nbsp;:func:`.select`&nbsp;construct&nbsp;instead&nbsp;of&nbsp;the<br>
base&nbsp;``user``&nbsp;table::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;select_stmt&nbsp;=&nbsp;select([<a href="#User">User</a>]).where(<a href="#User">User</a>.id&nbsp;==&nbsp;7)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-select_entity_from">select_entity_from</a>(select_stmt).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name&nbsp;==&nbsp;'ed')<br>
&nbsp;<br>
The&nbsp;query&nbsp;generated&nbsp;will&nbsp;select&nbsp;``<a href="#User">User</a>``&nbsp;entities&nbsp;directly<br>
from&nbsp;the&nbsp;given&nbsp;:func:`.select`&nbsp;construct,&nbsp;and&nbsp;will&nbsp;be::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;anon_1.id&nbsp;AS&nbsp;anon_1_id,&nbsp;anon_1.name&nbsp;AS&nbsp;anon_1_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;(SELECT&nbsp;"user".id&nbsp;AS&nbsp;id,&nbsp;"user".name&nbsp;AS&nbsp;name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;"user"<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;"user".id&nbsp;=&nbsp;:id_1)&nbsp;AS&nbsp;anon_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;anon_1.name&nbsp;=&nbsp;:name_1<br>
&nbsp;<br>
Notice&nbsp;above&nbsp;that&nbsp;even&nbsp;the&nbsp;WHERE&nbsp;criterion&nbsp;was&nbsp;"adapted"&nbsp;such&nbsp;that<br>
the&nbsp;``anon_1``&nbsp;subquery&nbsp;effectively&nbsp;replaces&nbsp;all&nbsp;references&nbsp;to&nbsp;the<br>
``user``&nbsp;table,&nbsp;except&nbsp;for&nbsp;the&nbsp;one&nbsp;that&nbsp;it&nbsp;refers&nbsp;to&nbsp;internally.<br>
&nbsp;<br>
Compare&nbsp;this&nbsp;to&nbsp;:meth:`.Query.select_from`,&nbsp;which&nbsp;as&nbsp;of<br>
version&nbsp;0.9,&nbsp;does&nbsp;not&nbsp;affect&nbsp;existing&nbsp;entities.&nbsp;&nbsp;The<br>
statement&nbsp;below::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-select_from">select_from</a>(select_stmt).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name&nbsp;==&nbsp;'ed')<br>
&nbsp;<br>
Produces&nbsp;SQL&nbsp;where&nbsp;both&nbsp;the&nbsp;``user``&nbsp;table&nbsp;as&nbsp;well&nbsp;as&nbsp;the<br>
``select_stmt``&nbsp;construct&nbsp;are&nbsp;present&nbsp;as&nbsp;separate&nbsp;elements<br>
in&nbsp;the&nbsp;FROM&nbsp;clause.&nbsp;&nbsp;No&nbsp;"adaptation"&nbsp;of&nbsp;the&nbsp;``user``&nbsp;table<br>
is&nbsp;applied::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;"user".id&nbsp;AS&nbsp;user_id,&nbsp;"user".name&nbsp;AS&nbsp;user_name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;"user",&nbsp;(SELECT&nbsp;"user".id&nbsp;AS&nbsp;id,&nbsp;"user".name&nbsp;AS&nbsp;name<br>
&nbsp;&nbsp;&nbsp;&nbsp;FROM&nbsp;"user"<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;"user".id&nbsp;=&nbsp;:id_1)&nbsp;AS&nbsp;anon_1<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;"user".name&nbsp;=&nbsp;:name_1<br>
&nbsp;<br>
:meth:`.Query.select_entity_from`&nbsp;maintains&nbsp;an&nbsp;older<br>
behavior&nbsp;of&nbsp;:meth:`.Query.select_from`.&nbsp;&nbsp;In&nbsp;modern&nbsp;usage,<br>
similar&nbsp;results&nbsp;can&nbsp;also&nbsp;be&nbsp;achieved&nbsp;using&nbsp;:func:`.aliased`::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;select_stmt&nbsp;=&nbsp;select([<a href="#User">User</a>]).where(<a href="#User">User</a>.id&nbsp;==&nbsp;7)<br>
&nbsp;&nbsp;&nbsp;&nbsp;user_from_select&nbsp;=&nbsp;aliased(<a href="#User">User</a>,&nbsp;select_stmt.alias())<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(user_from_select)<br>
&nbsp;<br>
:param&nbsp;from_obj:&nbsp;a&nbsp;:class:`.FromClause`&nbsp;object&nbsp;that&nbsp;will&nbsp;replace<br>
&nbsp;the&nbsp;FROM&nbsp;clause&nbsp;of&nbsp;this&nbsp;:class:`.Query`.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.select_from`<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;0.8<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.select_entity_from`&nbsp;was&nbsp;added&nbsp;to&nbsp;specify<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;specific&nbsp;behavior&nbsp;of&nbsp;entity&nbsp;replacement,&nbsp;however<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;:meth:`.Query.select_from`&nbsp;maintains&nbsp;this&nbsp;behavior<br>
&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;well&nbsp;until&nbsp;0.9.</tt></dd></dl>

<dl><dt><a name="NoteQuery-select_from"><strong>select_from</strong></a>(self, *from_obj)</dt><dd><tt>Set&nbsp;the&nbsp;FROM&nbsp;clause&nbsp;of&nbsp;this&nbsp;:class:`.Query`&nbsp;explicitly.<br>
&nbsp;<br>
:meth:`.Query.select_from`&nbsp;is&nbsp;often&nbsp;used&nbsp;in&nbsp;conjunction&nbsp;with<br>
:meth:`.Query.join`&nbsp;in&nbsp;order&nbsp;to&nbsp;control&nbsp;which&nbsp;entity&nbsp;is&nbsp;selected<br>
from&nbsp;on&nbsp;the&nbsp;"left"&nbsp;side&nbsp;of&nbsp;the&nbsp;join.<br>
&nbsp;<br>
The&nbsp;entity&nbsp;or&nbsp;selectable&nbsp;object&nbsp;here&nbsp;effectively&nbsp;replaces&nbsp;the<br>
"left&nbsp;edge"&nbsp;of&nbsp;any&nbsp;calls&nbsp;to&nbsp;:meth:`~.Query.join`,&nbsp;when&nbsp;no<br>
joinpoint&nbsp;is&nbsp;otherwise&nbsp;established&nbsp;-&nbsp;usually,&nbsp;the&nbsp;default&nbsp;"join<br>
point"&nbsp;is&nbsp;the&nbsp;leftmost&nbsp;entity&nbsp;in&nbsp;the&nbsp;:class:`~.Query`&nbsp;object's<br>
list&nbsp;of&nbsp;entities&nbsp;to&nbsp;be&nbsp;selected.<br>
&nbsp;<br>
A&nbsp;typical&nbsp;example::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(Address).<a href="#NoteQuery-select_from">select_from</a>(<a href="#User">User</a>).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(<a href="#User">User</a>.addresses).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name&nbsp;==&nbsp;'ed')<br>
&nbsp;<br>
Which&nbsp;produces&nbsp;SQL&nbsp;equivalent&nbsp;to::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;address.*&nbsp;FROM&nbsp;user<br>
&nbsp;&nbsp;&nbsp;&nbsp;JOIN&nbsp;address&nbsp;ON&nbsp;user.id=address.user_id<br>
&nbsp;&nbsp;&nbsp;&nbsp;WHERE&nbsp;user.name&nbsp;=&nbsp;:name_1<br>
&nbsp;<br>
:param&nbsp;\*from_obj:&nbsp;collection&nbsp;of&nbsp;one&nbsp;or&nbsp;more&nbsp;entities&nbsp;to&nbsp;apply<br>
&nbsp;to&nbsp;the&nbsp;FROM&nbsp;clause.&nbsp;&nbsp;Entities&nbsp;can&nbsp;be&nbsp;mapped&nbsp;classes,<br>
&nbsp;:class:`.AliasedClass`&nbsp;objects,&nbsp;:class:`.Mapper`&nbsp;objects<br>
&nbsp;as&nbsp;well&nbsp;as&nbsp;core&nbsp;:class:`.FromClause`&nbsp;elements&nbsp;like&nbsp;subqueries.<br>
&nbsp;<br>
..&nbsp;versionchanged::&nbsp;0.9<br>
&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;method&nbsp;no&nbsp;longer&nbsp;applies&nbsp;the&nbsp;given&nbsp;FROM&nbsp;object<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;be&nbsp;the&nbsp;selectable&nbsp;from&nbsp;which&nbsp;matching&nbsp;entities<br>
&nbsp;&nbsp;&nbsp;&nbsp;select&nbsp;from;&nbsp;the&nbsp;:meth:`.select_entity_from`&nbsp;method<br>
&nbsp;&nbsp;&nbsp;&nbsp;now&nbsp;accomplishes&nbsp;this.&nbsp;&nbsp;See&nbsp;that&nbsp;method&nbsp;for&nbsp;a&nbsp;description<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;this&nbsp;behavior.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`~.Query.join`<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.select_entity_from`</tt></dd></dl>

<dl><dt><a name="NoteQuery-slice"><strong>slice</strong></a>(self, start, stop)</dt><dd><tt>apply&nbsp;LIMIT/OFFSET&nbsp;to&nbsp;the&nbsp;``Query``&nbsp;based&nbsp;on&nbsp;a&nbsp;"<br>
"range&nbsp;and&nbsp;return&nbsp;the&nbsp;newly&nbsp;resulting&nbsp;``Query``.</tt></dd></dl>

<dl><dt><a name="NoteQuery-subquery"><strong>subquery</strong></a>(self, name<font color="#909090">=None</font>, with_labels<font color="#909090">=False</font>, reduce_columns<font color="#909090">=False</font>)</dt><dd><tt>return&nbsp;the&nbsp;full&nbsp;SELECT&nbsp;statement&nbsp;represented&nbsp;by<br>
this&nbsp;:class:`.Query`,&nbsp;embedded&nbsp;within&nbsp;an&nbsp;:class:`.Alias`.<br>
&nbsp;<br>
Eager&nbsp;JOIN&nbsp;generation&nbsp;within&nbsp;the&nbsp;query&nbsp;is&nbsp;disabled.<br>
&nbsp;<br>
:param&nbsp;name:&nbsp;string&nbsp;name&nbsp;to&nbsp;be&nbsp;assigned&nbsp;as&nbsp;the&nbsp;alias;<br>
&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;is&nbsp;passed&nbsp;through&nbsp;to&nbsp;:meth:`.FromClause.alias`.<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;``None``,&nbsp;a&nbsp;name&nbsp;will&nbsp;be&nbsp;deterministically&nbsp;generated<br>
&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;compile&nbsp;time.<br>
&nbsp;<br>
:param&nbsp;with_labels:&nbsp;if&nbsp;True,&nbsp;:meth:`.with_labels`&nbsp;will&nbsp;be&nbsp;called<br>
&nbsp;on&nbsp;the&nbsp;:class:`.Query`&nbsp;first&nbsp;to&nbsp;apply&nbsp;table-qualified&nbsp;labels<br>
&nbsp;to&nbsp;all&nbsp;columns.<br>
&nbsp;<br>
:param&nbsp;reduce_columns:&nbsp;if&nbsp;True,&nbsp;:meth:`.Select.reduce_columns`&nbsp;will<br>
&nbsp;be&nbsp;called&nbsp;on&nbsp;the&nbsp;resulting&nbsp;:func:`.select`&nbsp;construct,<br>
&nbsp;to&nbsp;remove&nbsp;same-named&nbsp;columns&nbsp;where&nbsp;one&nbsp;also&nbsp;refers&nbsp;to&nbsp;the&nbsp;other<br>
&nbsp;via&nbsp;foreign&nbsp;key&nbsp;or&nbsp;WHERE&nbsp;clause&nbsp;equivalence.<br>
&nbsp;<br>
&nbsp;..&nbsp;versionchanged::&nbsp;0.8&nbsp;the&nbsp;``with_labels``&nbsp;and&nbsp;``reduce_columns``<br>
&nbsp;&nbsp;&nbsp;&nbsp;keyword&nbsp;arguments&nbsp;were&nbsp;added.</tt></dd></dl>

<dl><dt><a name="NoteQuery-suffix_with"><strong>suffix_with</strong></a>(self, *suffixes)</dt><dd><tt>Apply&nbsp;the&nbsp;suffix&nbsp;to&nbsp;the&nbsp;query&nbsp;and&nbsp;return&nbsp;the&nbsp;newly&nbsp;resulting<br>
``Query``.<br>
&nbsp;<br>
:param&nbsp;\*suffixes:&nbsp;optional&nbsp;suffixes,&nbsp;typically&nbsp;strings,<br>
&nbsp;not&nbsp;using&nbsp;any&nbsp;commas.<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;1.0.0<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.prefix_with`<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.HasSuffixes.suffix_with`</tt></dd></dl>

<dl><dt><a name="NoteQuery-union"><strong>union</strong></a>(self, *q)</dt><dd><tt>Produce&nbsp;a&nbsp;UNION&nbsp;of&nbsp;this&nbsp;Query&nbsp;against&nbsp;one&nbsp;or&nbsp;more&nbsp;queries.<br>
&nbsp;<br>
e.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q1&nbsp;=&nbsp;sess.query(SomeClass).<a href="#NoteQuery-filter">filter</a>(SomeClass.foo=='bar')<br>
&nbsp;&nbsp;&nbsp;&nbsp;q2&nbsp;=&nbsp;sess.query(SomeClass).<a href="#NoteQuery-filter">filter</a>(SomeClass.bar=='foo')<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q3&nbsp;=&nbsp;q1.<a href="#NoteQuery-union">union</a>(q2)<br>
&nbsp;<br>
The&nbsp;method&nbsp;accepts&nbsp;multiple&nbsp;Query&nbsp;objects&nbsp;so&nbsp;as&nbsp;to&nbsp;control<br>
the&nbsp;level&nbsp;of&nbsp;nesting.&nbsp;&nbsp;A&nbsp;series&nbsp;of&nbsp;``<a href="#NoteQuery-union">union</a>()``&nbsp;calls&nbsp;such&nbsp;as::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;x.<a href="#NoteQuery-union">union</a>(y).<a href="#NoteQuery-union">union</a>(z).<a href="#NoteQuery-all">all</a>()<br>
&nbsp;<br>
will&nbsp;nest&nbsp;on&nbsp;each&nbsp;``<a href="#NoteQuery-union">union</a>()``,&nbsp;and&nbsp;produces::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;*&nbsp;FROM&nbsp;(SELECT&nbsp;*&nbsp;FROM&nbsp;(SELECT&nbsp;*&nbsp;FROM&nbsp;X&nbsp;UNION<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;*&nbsp;FROM&nbsp;y)&nbsp;UNION&nbsp;SELECT&nbsp;*&nbsp;FROM&nbsp;Z)<br>
&nbsp;<br>
Whereas::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;x.<a href="#NoteQuery-union">union</a>(y,&nbsp;z).<a href="#NoteQuery-all">all</a>()<br>
&nbsp;<br>
produces::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;*&nbsp;FROM&nbsp;(SELECT&nbsp;*&nbsp;FROM&nbsp;X&nbsp;UNION&nbsp;SELECT&nbsp;*&nbsp;FROM&nbsp;y&nbsp;UNION<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;*&nbsp;FROM&nbsp;Z)<br>
&nbsp;<br>
<a href="#Note">Note</a>&nbsp;that&nbsp;many&nbsp;database&nbsp;backends&nbsp;do&nbsp;not&nbsp;allow&nbsp;ORDER&nbsp;BY&nbsp;to<br>
be&nbsp;rendered&nbsp;on&nbsp;a&nbsp;query&nbsp;called&nbsp;within&nbsp;UNION,&nbsp;EXCEPT,&nbsp;etc.<br>
To&nbsp;disable&nbsp;all&nbsp;ORDER&nbsp;BY&nbsp;clauses&nbsp;including&nbsp;those&nbsp;configured<br>
on&nbsp;mappers,&nbsp;issue&nbsp;``query.<a href="#NoteQuery-order_by">order_by</a>(None)``&nbsp;-&nbsp;the&nbsp;resulting<br>
:class:`.Query`&nbsp;object&nbsp;will&nbsp;not&nbsp;render&nbsp;ORDER&nbsp;BY&nbsp;within<br>
its&nbsp;SELECT&nbsp;statement.</tt></dd></dl>

<dl><dt><a name="NoteQuery-union_all"><strong>union_all</strong></a>(self, *q)</dt><dd><tt>Produce&nbsp;a&nbsp;UNION&nbsp;ALL&nbsp;of&nbsp;this&nbsp;Query&nbsp;against&nbsp;one&nbsp;or&nbsp;more&nbsp;queries.<br>
&nbsp;<br>
Works&nbsp;the&nbsp;same&nbsp;way&nbsp;as&nbsp;:meth:`~sqlalchemy.orm.query.Query.union`.&nbsp;See<br>
that&nbsp;method&nbsp;for&nbsp;usage&nbsp;examples.</tt></dd></dl>

<dl><dt><a name="NoteQuery-update"><strong>update</strong></a>(self, values, synchronize_session<font color="#909090">='evaluate'</font>, update_args<font color="#909090">=None</font>)</dt><dd><tt>Perform&nbsp;a&nbsp;bulk&nbsp;update&nbsp;query.<br>
&nbsp;<br>
Updates&nbsp;rows&nbsp;matched&nbsp;by&nbsp;this&nbsp;query&nbsp;in&nbsp;the&nbsp;database.<br>
&nbsp;<br>
E.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sess.query(<a href="#User">User</a>).<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.age&nbsp;==&nbsp;25).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-update">update</a>({<a href="#User">User</a>.age:&nbsp;<a href="#User">User</a>.age&nbsp;-&nbsp;10},&nbsp;synchronize_session=False)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;sess.query(<a href="#User">User</a>).<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.age&nbsp;==&nbsp;25).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-update">update</a>({"age":&nbsp;<a href="#User">User</a>.age&nbsp;-&nbsp;10},&nbsp;synchronize_session='evaluate')<br>
&nbsp;<br>
&nbsp;<br>
..&nbsp;warning::&nbsp;The&nbsp;:meth:`.Query.update`&nbsp;method&nbsp;is&nbsp;a&nbsp;"bulk"&nbsp;operation,<br>
&nbsp;&nbsp;&nbsp;which&nbsp;bypasses&nbsp;ORM&nbsp;unit-of-work&nbsp;automation&nbsp;in&nbsp;favor&nbsp;of&nbsp;greater<br>
&nbsp;&nbsp;&nbsp;performance.&nbsp;&nbsp;**Please&nbsp;read&nbsp;all&nbsp;caveats&nbsp;and&nbsp;warnings&nbsp;below.**<br>
&nbsp;<br>
&nbsp;<br>
:param&nbsp;values:&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;attributes&nbsp;names,&nbsp;or&nbsp;alternatively<br>
&nbsp;mapped&nbsp;attributes&nbsp;or&nbsp;SQL&nbsp;expressions,&nbsp;as&nbsp;keys,&nbsp;and&nbsp;literal<br>
&nbsp;values&nbsp;or&nbsp;sql&nbsp;expressions&nbsp;as&nbsp;values.&nbsp;&nbsp;&nbsp;If&nbsp;:ref:`parameter-ordered<br>
&nbsp;mode&nbsp;&lt;updates_order_parameters&gt;`&nbsp;is&nbsp;desired,&nbsp;the&nbsp;values&nbsp;can&nbsp;be<br>
&nbsp;passed&nbsp;as&nbsp;a&nbsp;list&nbsp;of&nbsp;2-tuples;<br>
&nbsp;this&nbsp;requires&nbsp;that&nbsp;the&nbsp;:paramref:`~sqlalchemy.sql.expression.update.preserve_parameter_order`<br>
&nbsp;flag&nbsp;is&nbsp;passed&nbsp;to&nbsp;the&nbsp;:paramref:`.Query.update.update_args`&nbsp;dictionary<br>
&nbsp;as&nbsp;well.<br>
&nbsp;<br>
&nbsp;&nbsp;..&nbsp;versionchanged::&nbsp;1.0.0&nbsp;-&nbsp;string&nbsp;names&nbsp;in&nbsp;the&nbsp;values&nbsp;dictionary<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;now&nbsp;resolved&nbsp;against&nbsp;the&nbsp;mapped&nbsp;entity;&nbsp;previously,&nbsp;these<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strings&nbsp;were&nbsp;passed&nbsp;as&nbsp;literal&nbsp;column&nbsp;names&nbsp;with&nbsp;no&nbsp;mapper-level<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translation.<br>
&nbsp;<br>
:param&nbsp;synchronize_session:&nbsp;chooses&nbsp;the&nbsp;strategy&nbsp;to&nbsp;update&nbsp;the<br>
&nbsp;attributes&nbsp;on&nbsp;objects&nbsp;in&nbsp;the&nbsp;session.&nbsp;Valid&nbsp;values&nbsp;are:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;``False``&nbsp;-&nbsp;don't&nbsp;synchronize&nbsp;the&nbsp;session.&nbsp;This&nbsp;option&nbsp;is&nbsp;the&nbsp;most<br>
&nbsp;&nbsp;&nbsp;&nbsp;efficient&nbsp;and&nbsp;is&nbsp;reliable&nbsp;once&nbsp;the&nbsp;session&nbsp;is&nbsp;expired,&nbsp;which<br>
&nbsp;&nbsp;&nbsp;&nbsp;typically&nbsp;occurs&nbsp;after&nbsp;a&nbsp;commit(),&nbsp;or&nbsp;explicitly&nbsp;using<br>
&nbsp;&nbsp;&nbsp;&nbsp;expire_all().&nbsp;Before&nbsp;the&nbsp;expiration,&nbsp;updated&nbsp;objects&nbsp;may&nbsp;still<br>
&nbsp;&nbsp;&nbsp;&nbsp;remain&nbsp;in&nbsp;the&nbsp;session&nbsp;with&nbsp;stale&nbsp;values&nbsp;on&nbsp;their&nbsp;attributes,&nbsp;which<br>
&nbsp;&nbsp;&nbsp;&nbsp;can&nbsp;lead&nbsp;to&nbsp;confusing&nbsp;results.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;``'fetch'``&nbsp;-&nbsp;performs&nbsp;a&nbsp;select&nbsp;query&nbsp;before&nbsp;the&nbsp;update&nbsp;to&nbsp;find<br>
&nbsp;&nbsp;&nbsp;&nbsp;objects&nbsp;that&nbsp;are&nbsp;matched&nbsp;by&nbsp;the&nbsp;update&nbsp;query.&nbsp;The&nbsp;updated<br>
&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;are&nbsp;expired&nbsp;on&nbsp;matched&nbsp;objects.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;``'evaluate'``&nbsp;-&nbsp;Evaluate&nbsp;the&nbsp;Query's&nbsp;criteria&nbsp;in&nbsp;Python&nbsp;straight<br>
&nbsp;&nbsp;&nbsp;&nbsp;on&nbsp;the&nbsp;objects&nbsp;in&nbsp;the&nbsp;session.&nbsp;If&nbsp;evaluation&nbsp;of&nbsp;the&nbsp;criteria&nbsp;isn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;implemented,&nbsp;an&nbsp;exception&nbsp;is&nbsp;raised.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;expression&nbsp;evaluator&nbsp;currently&nbsp;doesn't&nbsp;account&nbsp;for&nbsp;differing<br>
&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;collations&nbsp;between&nbsp;the&nbsp;database&nbsp;and&nbsp;Python.<br>
&nbsp;<br>
:param&nbsp;update_args:&nbsp;Optional&nbsp;dictionary,&nbsp;if&nbsp;present&nbsp;will&nbsp;be&nbsp;passed<br>
&nbsp;to&nbsp;the&nbsp;underlying&nbsp;:func:`.update`&nbsp;construct&nbsp;as&nbsp;the&nbsp;``**kw``&nbsp;for<br>
&nbsp;the&nbsp;object.&nbsp;&nbsp;May&nbsp;be&nbsp;used&nbsp;to&nbsp;pass&nbsp;dialect-specific&nbsp;arguments&nbsp;such<br>
&nbsp;as&nbsp;``mysql_limit``,&nbsp;as&nbsp;well&nbsp;as&nbsp;other&nbsp;special&nbsp;arguments&nbsp;such&nbsp;as<br>
&nbsp;:paramref:`~sqlalchemy.sql.expression.update.preserve_parameter_order`.<br>
&nbsp;<br>
&nbsp;..&nbsp;versionadded::&nbsp;1.0.0<br>
&nbsp;<br>
:return:&nbsp;the&nbsp;count&nbsp;of&nbsp;rows&nbsp;matched&nbsp;as&nbsp;returned&nbsp;by&nbsp;the&nbsp;database's<br>
&nbsp;"row&nbsp;count"&nbsp;feature.<br>
&nbsp;<br>
..&nbsp;warning::&nbsp;**Additional&nbsp;Caveats&nbsp;for&nbsp;bulk&nbsp;query&nbsp;updates**<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;method&nbsp;does&nbsp;**not**&nbsp;offer&nbsp;in-Python&nbsp;cascading&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relationships&nbsp;-&nbsp;it&nbsp;is&nbsp;assumed&nbsp;that&nbsp;ON&nbsp;UPDATE&nbsp;CASCADE&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configured&nbsp;for&nbsp;any&nbsp;foreign&nbsp;key&nbsp;references&nbsp;which&nbsp;require<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it,&nbsp;otherwise&nbsp;the&nbsp;database&nbsp;may&nbsp;emit&nbsp;an&nbsp;integrity<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;violation&nbsp;if&nbsp;foreign&nbsp;key&nbsp;references&nbsp;are&nbsp;being&nbsp;enforced.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;After&nbsp;the&nbsp;UPDATE,&nbsp;dependent&nbsp;objects&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:class:`.Session`&nbsp;which&nbsp;were&nbsp;impacted&nbsp;by&nbsp;an&nbsp;ON&nbsp;UPDATE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CASCADE&nbsp;may&nbsp;not&nbsp;contain&nbsp;the&nbsp;current&nbsp;state;&nbsp;this&nbsp;issue&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolved&nbsp;once&nbsp;the&nbsp;:class:`.Session`&nbsp;is&nbsp;expired,&nbsp;which<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;normally&nbsp;occurs&nbsp;upon&nbsp;:meth:`.Session.commit`&nbsp;or&nbsp;can&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forced&nbsp;by&nbsp;using&nbsp;:meth:`.Session.expire_all`.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;``'fetch'``&nbsp;strategy&nbsp;results&nbsp;in&nbsp;an&nbsp;additional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;statement&nbsp;emitted&nbsp;and&nbsp;will&nbsp;significantly&nbsp;reduce<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;performance.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;``'evaluate'``&nbsp;strategy&nbsp;performs&nbsp;a&nbsp;scan&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;matching&nbsp;objects&nbsp;within&nbsp;the&nbsp;:class:`.Session`;&nbsp;if&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;of&nbsp;the&nbsp;:class:`.Session`&nbsp;are&nbsp;expired,&nbsp;such&nbsp;as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;via&nbsp;a&nbsp;proceeding&nbsp;:meth:`.Session.commit`&nbsp;call,&nbsp;**this&nbsp;will<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;in&nbsp;SELECT&nbsp;queries&nbsp;emitted&nbsp;for&nbsp;every&nbsp;matching&nbsp;object**.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;method&nbsp;supports&nbsp;multiple&nbsp;table&nbsp;updates,&nbsp;as&nbsp;detailed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;:ref:`multi_table_updates`,&nbsp;and&nbsp;this&nbsp;behavior&nbsp;does<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extend&nbsp;to&nbsp;support&nbsp;updates&nbsp;of&nbsp;joined-inheritance&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other&nbsp;multiple&nbsp;table&nbsp;mappings.&nbsp;&nbsp;However,&nbsp;the&nbsp;**join<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;condition&nbsp;of&nbsp;an&nbsp;inheritance&nbsp;mapper&nbsp;is&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;automatically&nbsp;rendered**.&nbsp;Care&nbsp;must&nbsp;be&nbsp;taken&nbsp;in&nbsp;any<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple-table&nbsp;update&nbsp;to&nbsp;explicitly&nbsp;include&nbsp;the&nbsp;joining<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;condition&nbsp;between&nbsp;those&nbsp;tables,&nbsp;even&nbsp;in&nbsp;mappings&nbsp;where<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;is&nbsp;normally&nbsp;automatic.&nbsp;E.g.&nbsp;if&nbsp;a&nbsp;class&nbsp;``Engineer``<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subclasses&nbsp;``Employee``,&nbsp;an&nbsp;UPDATE&nbsp;of&nbsp;the&nbsp;``Engineer``<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local&nbsp;table&nbsp;using&nbsp;criteria&nbsp;against&nbsp;the&nbsp;``Employee``<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local&nbsp;table&nbsp;might&nbsp;look&nbsp;like::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session.query(Engineer).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(Engineer.id&nbsp;==&nbsp;Employee.id).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(Employee.name&nbsp;==&nbsp;'dilbert').\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-update">update</a>({"engineer_type":&nbsp;"programmer"})<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;:meth:`.MapperEvents.before_update`&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.MapperEvents.after_update`<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;events&nbsp;**are&nbsp;not&nbsp;invoked&nbsp;from&nbsp;this&nbsp;method**.&nbsp;&nbsp;Instead,&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.SessionEvents.after_bulk_update`&nbsp;method&nbsp;is&nbsp;provided&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;act&nbsp;upon&nbsp;a&nbsp;mass&nbsp;UPDATE&nbsp;of&nbsp;entity&nbsp;rows.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.delete`<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:ref:`inserts_and_updates`&nbsp;-&nbsp;Core&nbsp;SQL&nbsp;tutorial</tt></dd></dl>

<dl><dt><a name="NoteQuery-value"><strong>value</strong></a>(self, column)</dt><dd><tt>Return&nbsp;a&nbsp;scalar&nbsp;result&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;given<br>
column&nbsp;expression.</tt></dd></dl>

<dl><dt><a name="NoteQuery-values"><strong>values</strong></a>(self, *columns)</dt><dd><tt>Return&nbsp;an&nbsp;iterator&nbsp;yielding&nbsp;result&nbsp;tuples&nbsp;corresponding<br>
to&nbsp;the&nbsp;given&nbsp;list&nbsp;of&nbsp;columns</tt></dd></dl>

<dl><dt><a name="NoteQuery-with_entities"><strong>with_entities</strong></a>(self, *entities)</dt><dd><tt>Return&nbsp;a&nbsp;new&nbsp;:class:`.Query`&nbsp;replacing&nbsp;the&nbsp;SELECT&nbsp;list&nbsp;with&nbsp;the<br>
given&nbsp;entities.<br>
&nbsp;<br>
e.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Users,&nbsp;filtered&nbsp;on&nbsp;some&nbsp;arbitrary&nbsp;criterion<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;and&nbsp;then&nbsp;ordered&nbsp;by&nbsp;related&nbsp;email&nbsp;address<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;session.query(<a href="#User">User</a>).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-join">join</a>(<a href="#User">User</a>.address).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.name.like('%ed%')).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-order_by">order_by</a>(Address.email)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;given&nbsp;*only*&nbsp;<a href="#User">User</a>.id==5,&nbsp;Address.email,&nbsp;and&nbsp;'q',&nbsp;what<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;would&nbsp;the&nbsp;*next*&nbsp;<a href="#User">User</a>&nbsp;in&nbsp;the&nbsp;result&nbsp;be&nbsp;?<br>
&nbsp;&nbsp;&nbsp;&nbsp;subq&nbsp;=&nbsp;q.<a href="#NoteQuery-with_entities">with_entities</a>(Address.email).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-order_by">order_by</a>(None).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-filter">filter</a>(<a href="#User">User</a>.id==5).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-subquery">subquery</a>()<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;q.<a href="#NoteQuery-join">join</a>((subq,&nbsp;subq.c.email&nbsp;&lt;&nbsp;Address.email)).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-limit">limit</a>(1)<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;0.6.5</tt></dd></dl>

<dl><dt><a name="NoteQuery-with_for_update"><strong>with_for_update</strong></a>(self, read<font color="#909090">=False</font>, nowait<font color="#909090">=False</font>, of<font color="#909090">=None</font>)</dt><dd><tt>return&nbsp;a&nbsp;new&nbsp;:class:`.Query`&nbsp;with&nbsp;the&nbsp;specified&nbsp;options&nbsp;for&nbsp;the<br>
``FOR&nbsp;UPDATE``&nbsp;clause.<br>
&nbsp;<br>
The&nbsp;behavior&nbsp;of&nbsp;this&nbsp;method&nbsp;is&nbsp;identical&nbsp;to&nbsp;that&nbsp;of<br>
:meth:`.SelectBase.with_for_update`.&nbsp;&nbsp;When&nbsp;called&nbsp;with&nbsp;no&nbsp;arguments,<br>
the&nbsp;resulting&nbsp;``SELECT``&nbsp;statement&nbsp;will&nbsp;have&nbsp;a&nbsp;``FOR&nbsp;UPDATE``&nbsp;clause<br>
appended.&nbsp;&nbsp;When&nbsp;additional&nbsp;arguments&nbsp;are&nbsp;specified,&nbsp;backend-specific<br>
options&nbsp;such&nbsp;as&nbsp;``FOR&nbsp;UPDATE&nbsp;NOWAIT``&nbsp;or&nbsp;``LOCK&nbsp;IN&nbsp;SHARE&nbsp;MODE``<br>
can&nbsp;take&nbsp;effect.<br>
&nbsp;<br>
E.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;sess.query(<a href="#User">User</a>).<a href="#NoteQuery-with_for_update">with_for_update</a>(nowait=True,&nbsp;of=<a href="#User">User</a>)<br>
&nbsp;<br>
The&nbsp;above&nbsp;query&nbsp;on&nbsp;a&nbsp;Postgresql&nbsp;backend&nbsp;will&nbsp;render&nbsp;like::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;users.id&nbsp;AS&nbsp;users_id&nbsp;FROM&nbsp;users&nbsp;FOR&nbsp;UPDATE&nbsp;OF&nbsp;users&nbsp;NOWAIT<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;0.9.0&nbsp;:meth:`.Query.with_for_update`&nbsp;supersedes<br>
&nbsp;&nbsp;&nbsp;the&nbsp;:meth:`.Query.with_lockmode`&nbsp;method.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.GenerativeSelect.with_for_update`&nbsp;-&nbsp;Core&nbsp;level&nbsp;method&nbsp;with<br>
&nbsp;&nbsp;&nbsp;&nbsp;full&nbsp;argument&nbsp;and&nbsp;behavioral&nbsp;description.</tt></dd></dl>

<dl><dt><a name="NoteQuery-with_hint"><strong>with_hint</strong></a>(self, selectable, text, dialect_name<font color="#909090">='*'</font>)</dt><dd><tt>Add&nbsp;an&nbsp;indexing&nbsp;or&nbsp;other&nbsp;executional&nbsp;context<br>
hint&nbsp;for&nbsp;the&nbsp;given&nbsp;entity&nbsp;or&nbsp;selectable&nbsp;to<br>
this&nbsp;:class:`.Query`.<br>
&nbsp;<br>
Functionality&nbsp;is&nbsp;passed&nbsp;straight&nbsp;through&nbsp;to<br>
:meth:`~sqlalchemy.sql.expression.Select.with_hint`,<br>
with&nbsp;the&nbsp;addition&nbsp;that&nbsp;``selectable``&nbsp;can&nbsp;be&nbsp;a<br>
:class:`.Table`,&nbsp;:class:`.Alias`,&nbsp;or&nbsp;ORM&nbsp;entity&nbsp;/&nbsp;mapped&nbsp;class<br>
/etc.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.with_statement_hint`</tt></dd></dl>

<dl><dt><a name="NoteQuery-with_labels"><strong>with_labels</strong></a>(self)</dt><dd><tt>Apply&nbsp;column&nbsp;labels&nbsp;to&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;Query.statement.<br>
&nbsp;<br>
Indicates&nbsp;that&nbsp;this&nbsp;Query's&nbsp;`statement`&nbsp;accessor&nbsp;should&nbsp;return<br>
a&nbsp;SELECT&nbsp;statement&nbsp;that&nbsp;applies&nbsp;labels&nbsp;to&nbsp;all&nbsp;columns&nbsp;in&nbsp;the<br>
form&nbsp;&lt;tablename&gt;_&lt;columnname&gt;;&nbsp;this&nbsp;is&nbsp;commonly&nbsp;used&nbsp;to<br>
disambiguate&nbsp;columns&nbsp;from&nbsp;multiple&nbsp;tables&nbsp;which&nbsp;have&nbsp;the&nbsp;same<br>
name.<br>
&nbsp;<br>
When&nbsp;the&nbsp;`Query`&nbsp;actually&nbsp;issues&nbsp;SQL&nbsp;to&nbsp;load&nbsp;rows,&nbsp;it&nbsp;always<br>
uses&nbsp;column&nbsp;labeling.<br>
&nbsp;<br>
..&nbsp;note::&nbsp;The&nbsp;:meth:`.Query.with_labels`&nbsp;method&nbsp;*only*&nbsp;applies<br>
&nbsp;&nbsp;&nbsp;the&nbsp;output&nbsp;of&nbsp;:attr:`.Query.statement`,&nbsp;and&nbsp;*not*&nbsp;to&nbsp;any&nbsp;of<br>
&nbsp;&nbsp;&nbsp;the&nbsp;result-row&nbsp;invoking&nbsp;systems&nbsp;of&nbsp;:class:`.Query`&nbsp;itself,&nbsp;e.g.<br>
&nbsp;&nbsp;&nbsp;:meth:`.Query.first`,&nbsp;:meth:`.Query.all`,&nbsp;etc.&nbsp;&nbsp;&nbsp;To&nbsp;execute<br>
&nbsp;&nbsp;&nbsp;a&nbsp;query&nbsp;using&nbsp;:meth:`.Query.with_labels`,&nbsp;invoke&nbsp;the<br>
&nbsp;&nbsp;&nbsp;:attr:`.Query.statement`&nbsp;using&nbsp;:meth:`.Session.execute`::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;session.execute(query.<a href="#NoteQuery-with_labels">with_labels</a>().statement)</tt></dd></dl>

<dl><dt><a name="NoteQuery-with_lockmode"><strong>with_lockmode</strong></a>(self, mode)</dt><dd><tt>Return&nbsp;a&nbsp;new&nbsp;:class:`.Query`&nbsp;object&nbsp;with&nbsp;the&nbsp;specified&nbsp;"locking&nbsp;mode",<br>
which&nbsp;essentially&nbsp;refers&nbsp;to&nbsp;the&nbsp;``FOR&nbsp;UPDATE``&nbsp;clause.<br>
&nbsp;<br>
..&nbsp;deprecated::&nbsp;0.9.0&nbsp;superseded&nbsp;by&nbsp;:meth:`.Query.with_for_update`.<br>
&nbsp;<br>
:param&nbsp;mode:&nbsp;a&nbsp;string&nbsp;representing&nbsp;the&nbsp;desired&nbsp;locking&nbsp;mode.<br>
&nbsp;Valid&nbsp;values&nbsp;are:<br>
&nbsp;<br>
&nbsp;*&nbsp;``None``&nbsp;-&nbsp;translates&nbsp;to&nbsp;no&nbsp;lockmode<br>
&nbsp;<br>
&nbsp;*&nbsp;``'update'``&nbsp;-&nbsp;translates&nbsp;to&nbsp;``FOR&nbsp;UPDATE``<br>
&nbsp;&nbsp;&nbsp;(standard&nbsp;SQL,&nbsp;supported&nbsp;by&nbsp;most&nbsp;dialects)<br>
&nbsp;<br>
&nbsp;*&nbsp;``'update_nowait'``&nbsp;-&nbsp;translates&nbsp;to&nbsp;``FOR&nbsp;UPDATE&nbsp;NOWAIT``<br>
&nbsp;&nbsp;&nbsp;(supported&nbsp;by&nbsp;Oracle,&nbsp;PostgreSQL&nbsp;8.1&nbsp;upwards)<br>
&nbsp;<br>
&nbsp;*&nbsp;``'read'``&nbsp;-&nbsp;translates&nbsp;to&nbsp;``LOCK&nbsp;IN&nbsp;SHARE&nbsp;MODE``&nbsp;(for&nbsp;MySQL),<br>
&nbsp;&nbsp;&nbsp;and&nbsp;``FOR&nbsp;SHARE``&nbsp;(for&nbsp;PostgreSQL)<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.with_for_update`&nbsp;-&nbsp;improved&nbsp;API&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;specifying&nbsp;the&nbsp;``FOR&nbsp;UPDATE``&nbsp;clause.</tt></dd></dl>

<dl><dt><a name="NoteQuery-with_parent"><strong>with_parent</strong></a>(self, instance, property<font color="#909090">=None</font>)</dt><dd><tt>Add&nbsp;filtering&nbsp;criterion&nbsp;that&nbsp;relates&nbsp;the&nbsp;given&nbsp;instance<br>
to&nbsp;a&nbsp;child&nbsp;object&nbsp;or&nbsp;collection,&nbsp;using&nbsp;its&nbsp;attribute&nbsp;state<br>
as&nbsp;well&nbsp;as&nbsp;an&nbsp;established&nbsp;:func:`.relationship()`<br>
configuration.<br>
&nbsp;<br>
The&nbsp;method&nbsp;uses&nbsp;the&nbsp;:func:`.with_parent`&nbsp;function&nbsp;to&nbsp;generate<br>
the&nbsp;clause,&nbsp;the&nbsp;result&nbsp;of&nbsp;which&nbsp;is&nbsp;passed&nbsp;to&nbsp;:meth:`.Query.filter`.<br>
&nbsp;<br>
Parameters&nbsp;are&nbsp;the&nbsp;same&nbsp;as&nbsp;:func:`.with_parent`,&nbsp;with&nbsp;the&nbsp;exception<br>
that&nbsp;the&nbsp;given&nbsp;property&nbsp;can&nbsp;be&nbsp;None,&nbsp;in&nbsp;which&nbsp;case&nbsp;a&nbsp;search&nbsp;is<br>
performed&nbsp;against&nbsp;this&nbsp;:class:`.Query`&nbsp;object's&nbsp;target&nbsp;mapper.</tt></dd></dl>

<dl><dt><a name="NoteQuery-with_polymorphic"><strong>with_polymorphic</strong></a>(self, cls_or_mappers, selectable<font color="#909090">=None</font>, polymorphic_on<font color="#909090">=None</font>)</dt><dd><tt>Load&nbsp;columns&nbsp;for&nbsp;inheriting&nbsp;classes.<br>
&nbsp;<br>
:meth:`.Query.with_polymorphic`&nbsp;applies&nbsp;transformations<br>
to&nbsp;the&nbsp;"main"&nbsp;mapped&nbsp;class&nbsp;represented&nbsp;by&nbsp;this&nbsp;:class:`.Query`.<br>
The&nbsp;"main"&nbsp;mapped&nbsp;class&nbsp;here&nbsp;means&nbsp;the&nbsp;:class:`.Query`<br>
object's&nbsp;first&nbsp;argument&nbsp;is&nbsp;a&nbsp;full&nbsp;class,&nbsp;i.e.<br>
``session.query(SomeClass)``.&nbsp;These&nbsp;transformations&nbsp;allow&nbsp;additional<br>
tables&nbsp;to&nbsp;be&nbsp;present&nbsp;in&nbsp;the&nbsp;FROM&nbsp;clause&nbsp;so&nbsp;that&nbsp;columns&nbsp;for&nbsp;a<br>
joined-inheritance&nbsp;subclass&nbsp;are&nbsp;available&nbsp;in&nbsp;the&nbsp;query,&nbsp;both&nbsp;for&nbsp;the<br>
purposes&nbsp;of&nbsp;load-time&nbsp;efficiency&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;ability&nbsp;to&nbsp;use<br>
these&nbsp;columns&nbsp;at&nbsp;query&nbsp;time.<br>
&nbsp;<br>
See&nbsp;the&nbsp;documentation&nbsp;section&nbsp;:ref:`with_polymorphic`&nbsp;for<br>
details&nbsp;on&nbsp;how&nbsp;this&nbsp;method&nbsp;is&nbsp;used.<br>
&nbsp;<br>
..&nbsp;versionchanged::&nbsp;0.8<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;new&nbsp;and&nbsp;more&nbsp;flexible&nbsp;function<br>
&nbsp;&nbsp;&nbsp;&nbsp;:func:`.orm.with_polymorphic`&nbsp;supersedes<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.with_polymorphic`,&nbsp;as&nbsp;it&nbsp;can&nbsp;apply&nbsp;the&nbsp;equivalent<br>
&nbsp;&nbsp;&nbsp;&nbsp;functionality&nbsp;to&nbsp;any&nbsp;set&nbsp;of&nbsp;columns&nbsp;or&nbsp;classes&nbsp;in&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;:class:`.Query`,&nbsp;not&nbsp;just&nbsp;the&nbsp;"zero&nbsp;mapper".&nbsp;&nbsp;See&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;for&nbsp;a&nbsp;description&nbsp;of&nbsp;arguments.</tt></dd></dl>

<dl><dt><a name="NoteQuery-with_session"><strong>with_session</strong></a>(self, session)</dt><dd><tt>Return&nbsp;a&nbsp;:class:`.Query`&nbsp;that&nbsp;will&nbsp;use&nbsp;the&nbsp;given&nbsp;:class:`.Session`.</tt></dd></dl>

<dl><dt><a name="NoteQuery-with_statement_hint"><strong>with_statement_hint</strong></a>(self, text, dialect_name<font color="#909090">='*'</font>)</dt><dd><tt>add&nbsp;a&nbsp;statement&nbsp;hint&nbsp;to&nbsp;this&nbsp;:class:`.Select`.<br>
&nbsp;<br>
This&nbsp;method&nbsp;is&nbsp;similar&nbsp;to&nbsp;:meth:`.Select.with_hint`&nbsp;except&nbsp;that<br>
it&nbsp;does&nbsp;not&nbsp;require&nbsp;an&nbsp;individual&nbsp;table,&nbsp;and&nbsp;instead&nbsp;applies&nbsp;to&nbsp;the<br>
statement&nbsp;as&nbsp;a&nbsp;whole.<br>
&nbsp;<br>
This&nbsp;feature&nbsp;calls&nbsp;down&nbsp;into&nbsp;:meth:`.Select.with_statement_hint`.<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;1.0.0<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.with_hint`</tt></dd></dl>

<dl><dt><a name="NoteQuery-with_transformation"><strong>with_transformation</strong></a>(self, fn)</dt><dd><tt>Return&nbsp;a&nbsp;new&nbsp;:class:`.Query`&nbsp;object&nbsp;transformed&nbsp;by<br>
the&nbsp;given&nbsp;function.<br>
&nbsp;<br>
E.g.::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;filter_something(criterion):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;transform(q):<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;q.<a href="#NoteQuery-filter">filter</a>(criterion)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;transform<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;q.<a href="#NoteQuery-with_transformation">with_transformation</a>(filter_something(x==5))<br>
&nbsp;<br>
This&nbsp;allows&nbsp;ad-hoc&nbsp;recipes&nbsp;to&nbsp;be&nbsp;created&nbsp;for&nbsp;:class:`.Query`<br>
objects.&nbsp;&nbsp;See&nbsp;the&nbsp;example&nbsp;at&nbsp;:ref:`hybrid_transformers`.<br>
&nbsp;<br>
..&nbsp;versionadded::&nbsp;0.7.4</tt></dd></dl>

<dl><dt><a name="NoteQuery-yield_per"><strong>yield_per</strong></a>(self, count)</dt><dd><tt>Yield&nbsp;only&nbsp;``count``&nbsp;rows&nbsp;at&nbsp;a&nbsp;time.<br>
&nbsp;<br>
The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;method&nbsp;is&nbsp;when&nbsp;fetching&nbsp;very&nbsp;large&nbsp;result&nbsp;sets<br>
(&gt;&nbsp;10K&nbsp;rows),&nbsp;to&nbsp;batch&nbsp;results&nbsp;in&nbsp;sub-collections&nbsp;and&nbsp;yield&nbsp;them<br>
out&nbsp;partially,&nbsp;so&nbsp;that&nbsp;the&nbsp;Python&nbsp;interpreter&nbsp;doesn't&nbsp;need&nbsp;to&nbsp;declare<br>
very&nbsp;large&nbsp;areas&nbsp;of&nbsp;memory&nbsp;which&nbsp;is&nbsp;both&nbsp;time&nbsp;consuming&nbsp;and&nbsp;leads<br>
to&nbsp;excessive&nbsp;memory&nbsp;use.&nbsp;&nbsp;&nbsp;The&nbsp;performance&nbsp;from&nbsp;fetching&nbsp;hundreds&nbsp;of<br>
thousands&nbsp;of&nbsp;rows&nbsp;can&nbsp;often&nbsp;double&nbsp;when&nbsp;a&nbsp;suitable&nbsp;yield-per&nbsp;setting<br>
(e.g.&nbsp;approximately&nbsp;1000)&nbsp;is&nbsp;used,&nbsp;even&nbsp;with&nbsp;DBAPIs&nbsp;that&nbsp;buffer<br>
rows&nbsp;(which&nbsp;are&nbsp;most).<br>
&nbsp;<br>
The&nbsp;:meth:`.Query.yield_per`&nbsp;method&nbsp;**is&nbsp;not&nbsp;compatible&nbsp;with&nbsp;most<br>
eager&nbsp;loading&nbsp;schemes,&nbsp;including&nbsp;subqueryload&nbsp;and&nbsp;joinedload&nbsp;with<br>
collections**.&nbsp;&nbsp;For&nbsp;this&nbsp;reason,&nbsp;it&nbsp;may&nbsp;be&nbsp;helpful&nbsp;to&nbsp;disable<br>
eager&nbsp;loads,&nbsp;either&nbsp;unconditionally&nbsp;with<br>
:meth:`.Query.enable_eagerloads`::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;sess.query(Object).<a href="#NoteQuery-yield_per">yield_per</a>(100).<a href="#NoteQuery-enable_eagerloads">enable_eagerloads</a>(False)<br>
&nbsp;<br>
Or&nbsp;more&nbsp;selectively&nbsp;using&nbsp;:func:`.lazyload`;&nbsp;such&nbsp;as&nbsp;with<br>
an&nbsp;asterisk&nbsp;to&nbsp;specify&nbsp;the&nbsp;default&nbsp;loader&nbsp;scheme::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;sess.query(Object).<a href="#NoteQuery-yield_per">yield_per</a>(100).\<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#NoteQuery-options">options</a>(lazyload('*'),&nbsp;joinedload(Object.some_related))<br>
&nbsp;<br>
..&nbsp;warning::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Use&nbsp;this&nbsp;method&nbsp;with&nbsp;caution;&nbsp;if&nbsp;the&nbsp;same&nbsp;instance&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;present&nbsp;in&nbsp;more&nbsp;than&nbsp;one&nbsp;batch&nbsp;of&nbsp;rows,&nbsp;end-user&nbsp;changes<br>
&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;attributes&nbsp;will&nbsp;be&nbsp;overwritten.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;particular,&nbsp;it's&nbsp;usually&nbsp;impossible&nbsp;to&nbsp;use&nbsp;this&nbsp;setting<br>
&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;eagerly&nbsp;loaded&nbsp;collections&nbsp;(i.e.&nbsp;any&nbsp;lazy='joined'&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;'subquery')&nbsp;since&nbsp;those&nbsp;collections&nbsp;will&nbsp;be&nbsp;cleared&nbsp;for&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;load&nbsp;when&nbsp;encountered&nbsp;in&nbsp;a&nbsp;subsequent&nbsp;result&nbsp;batch.<br>
&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;'subquery'&nbsp;loading,&nbsp;the&nbsp;full&nbsp;result&nbsp;for&nbsp;all<br>
&nbsp;&nbsp;&nbsp;&nbsp;rows&nbsp;is&nbsp;fetched&nbsp;which&nbsp;generally&nbsp;defeats&nbsp;the&nbsp;purpose&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`~sqlalchemy.orm.query.Query.yield_per`.<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Also&nbsp;note&nbsp;that&nbsp;while<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`~sqlalchemy.orm.query.Query.yield_per`&nbsp;will&nbsp;set&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;``stream_results``&nbsp;execution&nbsp;option&nbsp;to&nbsp;True,&nbsp;currently<br>
&nbsp;&nbsp;&nbsp;&nbsp;this&nbsp;is&nbsp;only&nbsp;understood&nbsp;by<br>
&nbsp;&nbsp;&nbsp;&nbsp;:mod:`~sqlalchemy.dialects.postgresql.psycopg2`&nbsp;dialect<br>
&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;will&nbsp;stream&nbsp;results&nbsp;using&nbsp;server&nbsp;side&nbsp;cursors<br>
&nbsp;&nbsp;&nbsp;&nbsp;instead&nbsp;of&nbsp;pre-buffer&nbsp;all&nbsp;rows&nbsp;for&nbsp;this&nbsp;query.&nbsp;Other<br>
&nbsp;&nbsp;&nbsp;&nbsp;DBAPIs&nbsp;**pre-buffer&nbsp;all&nbsp;rows**&nbsp;before&nbsp;making&nbsp;them<br>
&nbsp;&nbsp;&nbsp;&nbsp;available.&nbsp;&nbsp;The&nbsp;memory&nbsp;use&nbsp;of&nbsp;raw&nbsp;database&nbsp;rows&nbsp;is&nbsp;much&nbsp;less<br>
&nbsp;&nbsp;&nbsp;&nbsp;than&nbsp;that&nbsp;of&nbsp;an&nbsp;ORM-mapped&nbsp;object,&nbsp;but&nbsp;should&nbsp;still&nbsp;be&nbsp;taken&nbsp;into<br>
&nbsp;&nbsp;&nbsp;&nbsp;consideration&nbsp;when&nbsp;benchmarking.<br>
&nbsp;<br>
..&nbsp;seealso::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;:meth:`.Query.enable_eagerloads`</tt></dd></dl>

<hr>
Data descriptors inherited from <a href="sqlalchemy.orm.query.html#Query">sqlalchemy.orm.query.Query</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>column_descriptions</strong></dt>
<dd><tt>Return&nbsp;metadata&nbsp;about&nbsp;the&nbsp;columns&nbsp;which&nbsp;would&nbsp;be<br>
returned&nbsp;by&nbsp;this&nbsp;:class:`.Query`.<br>
&nbsp;<br>
Format&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;dictionaries::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;user_alias&nbsp;=&nbsp;aliased(User,&nbsp;name='user2')<br>
&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;=&nbsp;sess.query(User,&nbsp;User.id,&nbsp;user_alias)<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;this&nbsp;expression:<br>
&nbsp;&nbsp;&nbsp;&nbsp;q.column_descriptions<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;would&nbsp;return:<br>
&nbsp;&nbsp;&nbsp;&nbsp;[<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'name':'User',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'type':User,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'aliased':False,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'expr':User,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'entity':&nbsp;User<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'name':'id',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'type':Integer(),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'aliased':False,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'expr':User.id,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'entity':&nbsp;User<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'name':'user2',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'type':User,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'aliased':True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'expr':user_alias,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'entity':&nbsp;user_alias<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;]</tt></dd>
</dl>
<dl><dt><strong>selectable</strong></dt>
<dd><tt>Return&nbsp;the&nbsp;:class:`.Select`&nbsp;object&nbsp;emitted&nbsp;by&nbsp;this&nbsp;:class:`.Query`.<br>
&nbsp;<br>
Used&nbsp;for&nbsp;:func:`.inspect`&nbsp;compatibility,&nbsp;this&nbsp;is&nbsp;equivalent&nbsp;to::<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;query.enable_eagerloads(False).with_labels().statement</tt></dd>
</dl>
<dl><dt><strong>statement</strong></dt>
<dd><tt>The&nbsp;full&nbsp;SELECT&nbsp;statement&nbsp;represented&nbsp;by&nbsp;this&nbsp;Query.<br>
&nbsp;<br>
The&nbsp;statement&nbsp;by&nbsp;default&nbsp;will&nbsp;not&nbsp;have&nbsp;disambiguating&nbsp;labels<br>
applied&nbsp;to&nbsp;the&nbsp;construct&nbsp;unless&nbsp;with_labels(True)&nbsp;is&nbsp;called<br>
first.</tt></dd>
</dl>
<dl><dt><strong>whereclause</strong></dt>
<dd><tt>A&nbsp;readonly&nbsp;attribute&nbsp;which&nbsp;returns&nbsp;the&nbsp;current&nbsp;WHERE&nbsp;criterion&nbsp;for<br>
this&nbsp;Query.<br>
&nbsp;<br>
This&nbsp;returned&nbsp;value&nbsp;is&nbsp;a&nbsp;SQL&nbsp;expression&nbsp;construct,&nbsp;or&nbsp;``None``&nbsp;if&nbsp;no<br>
criterion&nbsp;has&nbsp;been&nbsp;established.</tt></dd>
</dl>
<hr>
Data and other attributes inherited from <a href="sqlalchemy.orm.query.html#Query">sqlalchemy.orm.query.Query</a>:<br>
<dl><dt><strong>logger</strong> = &lt;logging.Logger object&gt;</dl>

<hr>
Methods inherited from <a href="sqlalchemy_searchable.html#SearchQueryMixin">sqlalchemy_searchable.SearchQueryMixin</a>:<br>
<dl><dt><a name="NoteQuery-search"><strong>search</strong></a>(self, search_query, vector<font color="#909090">=None</font>, regconfig<font color="#909090">=None</font>, sort<font color="#909090">=False</font>)</dt><dd><tt>Search&nbsp;given&nbsp;query&nbsp;with&nbsp;full&nbsp;text&nbsp;search.<br>
&nbsp;<br>
:param&nbsp;search_query:&nbsp;the&nbsp;search&nbsp;query<br>
:param&nbsp;vector:&nbsp;search&nbsp;vector&nbsp;to&nbsp;use<br>
:param&nbsp;regconfig:&nbsp;postgresql&nbsp;regconfig&nbsp;to&nbsp;be&nbsp;used<br>
:param&nbsp;sort:&nbsp;order&nbsp;results&nbsp;by&nbsp;relevance&nbsp;(quality&nbsp;of&nbsp;hit)</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Notebook">class <strong>Notebook</strong></a>(flask_sqlalchemy.Model)</font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="app.models.html#Notebook">Notebook</a></dd>
<dd>flask_sqlalchemy.Model</dd>
<dd><a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a></dd>
<dd><a href="__builtin__.html#object">__builtin__.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="Notebook-__init__"><strong>__init__</strong></a>(self, **kwargs)</dt><dd><tt>A&nbsp;simple&nbsp;constructor&nbsp;that&nbsp;allows&nbsp;initialization&nbsp;from&nbsp;kwargs.<br>
&nbsp;<br>
Sets&nbsp;attributes&nbsp;on&nbsp;the&nbsp;constructed&nbsp;instance&nbsp;using&nbsp;the&nbsp;names&nbsp;and<br>
values&nbsp;in&nbsp;``kwargs``.<br>
&nbsp;<br>
Only&nbsp;keys&nbsp;that&nbsp;are&nbsp;present&nbsp;as<br>
attributes&nbsp;of&nbsp;the&nbsp;instance's&nbsp;class&nbsp;are&nbsp;allowed.&nbsp;These&nbsp;could&nbsp;be,<br>
for&nbsp;example,&nbsp;any&nbsp;mapped&nbsp;columns&nbsp;or&nbsp;relationships.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>author</strong></dt>
</dl>
<dl><dt><strong>author_id</strong></dt>
</dl>
<dl><dt><strong>id</strong></dt>
</dl>
<dl><dt><strong>is_deleted</strong></dt>
</dl>
<dl><dt><strong>notes</strong></dt>
</dl>
<dl><dt><strong>title</strong></dt>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>__mapper__</strong> = &lt;Mapper at 0x10d3c55d0; Notebook&gt;</dl>

<dl><dt><strong>__table__</strong> = Table('notebooks', MetaData(bind=None), Column('...Key('users.id'), table=&lt;notebooks&gt;), schema=None)</dl>

<dl><dt><strong>__tablename__</strong> = 'notebooks'</dl>

<hr>
Methods inherited from flask_sqlalchemy.Model:<br>
<dl><dt><strong>query</strong></dt>
</dl>

<hr>
Data and other attributes inherited from flask_sqlalchemy.Model:<br>
<dl><dt><strong>metadata</strong> = MetaData(bind=None)</dl>

<hr>
Data descriptors inherited from <a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Data and other attributes inherited from <a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a>:<br>
<dl><dt><strong>query_class</strong> = &lt;class 'flask_sqlalchemy.BaseQuery'&gt;<dd><tt>The&nbsp;default&nbsp;query&nbsp;object&nbsp;used&nbsp;for&nbsp;models,&nbsp;and&nbsp;exposed&nbsp;as<br>
:attr:`~SQLAlchemy.Query`.&nbsp;This&nbsp;can&nbsp;be&nbsp;subclassed&nbsp;and<br>
replaced&nbsp;for&nbsp;individual&nbsp;models&nbsp;by&nbsp;setting&nbsp;the&nbsp;:attr:`~Model.query_class`<br>
attribute.&nbsp;&nbsp;This&nbsp;is&nbsp;a&nbsp;subclass&nbsp;of&nbsp;a&nbsp;standard&nbsp;SQLAlchemy<br>
:class:`~sqlalchemy.orm.query.Query`&nbsp;class&nbsp;and&nbsp;has&nbsp;all&nbsp;the&nbsp;methods&nbsp;of&nbsp;a<br>
standard&nbsp;query&nbsp;as&nbsp;well.</tt></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Tag">class <strong>Tag</strong></a>(flask_sqlalchemy.Model)</font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="app.models.html#Tag">Tag</a></dd>
<dd>flask_sqlalchemy.Model</dd>
<dd><a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a></dd>
<dd><a href="__builtin__.html#object">__builtin__.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="Tag-__init__"><strong>__init__</strong></a>(self, **kwargs)</dt><dd><tt>A&nbsp;simple&nbsp;constructor&nbsp;that&nbsp;allows&nbsp;initialization&nbsp;from&nbsp;kwargs.<br>
&nbsp;<br>
Sets&nbsp;attributes&nbsp;on&nbsp;the&nbsp;constructed&nbsp;instance&nbsp;using&nbsp;the&nbsp;names&nbsp;and<br>
values&nbsp;in&nbsp;``kwargs``.<br>
&nbsp;<br>
Only&nbsp;keys&nbsp;that&nbsp;are&nbsp;present&nbsp;as<br>
attributes&nbsp;of&nbsp;the&nbsp;instance's&nbsp;class&nbsp;are&nbsp;allowed.&nbsp;These&nbsp;could&nbsp;be,<br>
for&nbsp;example,&nbsp;any&nbsp;mapped&nbsp;columns&nbsp;or&nbsp;relationships.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>Note</strong></dt>
</dl>
<dl><dt><strong>id</strong></dt>
</dl>
<dl><dt><strong>notes</strong></dt>
</dl>
<dl><dt><strong>tag</strong></dt>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>__mapper__</strong> = &lt;Mapper at 0x10d3c5c90; Tag&gt;</dl>

<dl><dt><strong>__table__</strong> = Table('tags', MetaData(bind=None), Column('id', ..., String(length=200), table=&lt;tags&gt;), schema=None)</dl>

<dl><dt><strong>__tablename__</strong> = 'tags'</dl>

<hr>
Methods inherited from flask_sqlalchemy.Model:<br>
<dl><dt><strong>query</strong></dt>
</dl>

<hr>
Data and other attributes inherited from flask_sqlalchemy.Model:<br>
<dl><dt><strong>metadata</strong> = MetaData(bind=None)</dl>

<hr>
Data descriptors inherited from <a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Data and other attributes inherited from <a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a>:<br>
<dl><dt><strong>query_class</strong> = &lt;class 'flask_sqlalchemy.BaseQuery'&gt;<dd><tt>The&nbsp;default&nbsp;query&nbsp;object&nbsp;used&nbsp;for&nbsp;models,&nbsp;and&nbsp;exposed&nbsp;as<br>
:attr:`~SQLAlchemy.Query`.&nbsp;This&nbsp;can&nbsp;be&nbsp;subclassed&nbsp;and<br>
replaced&nbsp;for&nbsp;individual&nbsp;models&nbsp;by&nbsp;setting&nbsp;the&nbsp;:attr:`~Model.query_class`<br>
attribute.&nbsp;&nbsp;This&nbsp;is&nbsp;a&nbsp;subclass&nbsp;of&nbsp;a&nbsp;standard&nbsp;SQLAlchemy<br>
:class:`~sqlalchemy.orm.query.Query`&nbsp;class&nbsp;and&nbsp;has&nbsp;all&nbsp;the&nbsp;methods&nbsp;of&nbsp;a<br>
standard&nbsp;query&nbsp;as&nbsp;well.</tt></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="User">class <strong>User</strong></a>(<a href="flask_login.html#UserMixin">flask_login.UserMixin</a>, flask_sqlalchemy.Model)</font></td></tr>
    
<tr><td bgcolor="#ffc8d8"><tt>&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="app.models.html#User">User</a></dd>
<dd><a href="flask_login.html#UserMixin">flask_login.UserMixin</a></dd>
<dd>flask_sqlalchemy.Model</dd>
<dd><a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a></dd>
<dd><a href="__builtin__.html#object">__builtin__.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="User-__init__"><strong>__init__</strong></a>(self, **kwargs)</dt></dl>

<dl><dt><a name="User-__repr__"><strong>__repr__</strong></a>(self)</dt></dl>

<dl><dt><a name="User-change_email"><strong>change_email</strong></a>(self, token)</dt></dl>

<dl><dt><a name="User-confirm"><strong>confirm</strong></a>(self, token)</dt></dl>

<dl><dt><a name="User-generate_auth_token"><strong>generate_auth_token</strong></a>(self, expiration)</dt></dl>

<dl><dt><a name="User-generate_confirmation_token"><strong>generate_confirmation_token</strong></a>(self, expiration<font color="#909090">=3600</font>)</dt></dl>

<dl><dt><a name="User-generate_email_change_token"><strong>generate_email_change_token</strong></a>(self, new_email, expiration<font color="#909090">=3600</font>)</dt></dl>

<dl><dt><a name="User-generate_reset_token"><strong>generate_reset_token</strong></a>(self, expiration<font color="#909090">=3600</font>)</dt></dl>

<dl><dt><a name="User-gravatar"><strong>gravatar</strong></a>(self, size<font color="#909090">=100</font>, default<font color="#909090">='identicon'</font>, rating<font color="#909090">='g'</font>)</dt></dl>

<dl><dt><a name="User-reset_password"><strong>reset_password</strong></a>(self, token, new_password)</dt></dl>

<dl><dt><a name="User-to_json"><strong>to_json</strong></a>(self)</dt></dl>

<dl><dt><a name="User-verify_password"><strong>verify_password</strong></a>(self, password)</dt></dl>

<hr>
Static methods defined here:<br>
<dl><dt><a name="User-generate_fake"><strong>generate_fake</strong></a>(count<font color="#909090">=100</font>)</dt></dl>

<dl><dt><a name="User-verify_auth_token"><strong>verify_auth_token</strong></a>(token)</dt></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>avatar_hash</strong></dt>
</dl>
<dl><dt><strong>confirmed</strong></dt>
</dl>
<dl><dt><strong>created_date</strong></dt>
</dl>
<dl><dt><strong>email</strong></dt>
</dl>
<dl><dt><strong>id</strong></dt>
</dl>
<dl><dt><strong>notebooks</strong></dt>
</dl>
<dl><dt><strong>notes</strong></dt>
</dl>
<dl><dt><strong>password</strong></dt>
</dl>
<dl><dt><strong>password_hash</strong></dt>
</dl>
<dl><dt><strong>updated_date</strong></dt>
</dl>
<dl><dt><strong>username</strong></dt>
</dl>
<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>__mapper__</strong> = &lt;Mapper at 0x10d811690; User&gt;</dl>

<dl><dt><strong>__table__</strong> = Table('users', MetaData(bind=None), Column('id',...function &lt;lambda&gt; at 0x10d7e72a8&gt;)), schema=None)</dl>

<dl><dt><strong>__tablename__</strong> = 'users'</dl>

<hr>
Methods inherited from <a href="flask_login.html#UserMixin">flask_login.UserMixin</a>:<br>
<dl><dt><a name="User-__eq__"><strong>__eq__</strong></a>(self, other)</dt><dd><tt>Checks&nbsp;the&nbsp;equality&nbsp;of&nbsp;two&nbsp;`<a href="flask_login.html#UserMixin">UserMixin</a>`&nbsp;objects&nbsp;using&nbsp;`get_id`.</tt></dd></dl>

<dl><dt><a name="User-__ne__"><strong>__ne__</strong></a>(self, other)</dt><dd><tt>Checks&nbsp;the&nbsp;inequality&nbsp;of&nbsp;two&nbsp;`<a href="flask_login.html#UserMixin">UserMixin</a>`&nbsp;objects&nbsp;using&nbsp;`get_id`.</tt></dd></dl>

<dl><dt><a name="User-get_id"><strong>get_id</strong></a>(self)</dt></dl>

<dl><dt><a name="User-is_active"><strong>is_active</strong></a>(self)</dt></dl>

<dl><dt><a name="User-is_anonymous"><strong>is_anonymous</strong></a>(self)</dt></dl>

<dl><dt><a name="User-is_authenticated"><strong>is_authenticated</strong></a>(self)</dt></dl>

<hr>
Data descriptors inherited from <a href="flask_login.html#UserMixin">flask_login.UserMixin</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<hr>
Methods inherited from flask_sqlalchemy.Model:<br>
<dl><dt><strong>query</strong></dt>
</dl>

<hr>
Data and other attributes inherited from flask_sqlalchemy.Model:<br>
<dl><dt><strong>metadata</strong> = MetaData(bind=None)</dl>

<hr>
Data and other attributes inherited from <a href="flask_sqlalchemy.html#Model">flask_sqlalchemy.Model</a>:<br>
<dl><dt><strong>query_class</strong> = &lt;class 'flask_sqlalchemy.BaseQuery'&gt;<dd><tt>The&nbsp;default&nbsp;query&nbsp;object&nbsp;used&nbsp;for&nbsp;models,&nbsp;and&nbsp;exposed&nbsp;as<br>
:attr:`~SQLAlchemy.Query`.&nbsp;This&nbsp;can&nbsp;be&nbsp;subclassed&nbsp;and<br>
replaced&nbsp;for&nbsp;individual&nbsp;models&nbsp;by&nbsp;setting&nbsp;the&nbsp;:attr:`~Model.query_class`<br>
attribute.&nbsp;&nbsp;This&nbsp;is&nbsp;a&nbsp;subclass&nbsp;of&nbsp;a&nbsp;standard&nbsp;SQLAlchemy<br>
:class:`~sqlalchemy.orm.query.Query`&nbsp;class&nbsp;and&nbsp;has&nbsp;all&nbsp;the&nbsp;methods&nbsp;of&nbsp;a<br>
standard&nbsp;query&nbsp;as&nbsp;well.</tt></dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-load_user"><strong>load_user</strong></a>(user_id)</dt></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>current_app</strong> = &lt;LocalProxy unbound&gt;<br>
<strong>current_user</strong> = None<br>
<strong>db</strong> = &lt;SQLAlchemy engine=None&gt;<br>
<strong>login_manager</strong> = &lt;flask_login.LoginManager object&gt;<br>
<strong>note_tag</strong> = Table('note_tag', MetaData(bind=None), Column('n...gnKey('tags.id'), table=&lt;note_tag&gt;), schema=None)</td></tr></table>
</body></html>